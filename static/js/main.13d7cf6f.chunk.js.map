{"version":3,"sources":["Components/Context.js","Components/MyPosts/MyPostForm.js","Components/MyPosts/MyPostUpdate.js","Components/MyPosts/MyPostCreate.js","Components/MyPosts/MyPostDelete.js","Components/Navigation/Navigation.js","Components/Login/Login.js","Components/Logout.js","Components/Signup/Signup.js","Components/Search/SearchBar.js","Components/Search/SearchResultCard.js","Components/Search/SearchResult.js","Components/UserDetail/UserNav.js","Components/UserDetail/UserAboutCard.js","Components/UserDetail/UserAbout.js","Components/Comment/CommentForm.js","Components/Comment/CommentDelete.js","Components/CommentCard/CommentCard.js","Components/UserDetail/UserLikesCard.js","Components/UserDetail/UserLikes.js","Components/Comment/CommentCreate.js","Components/UserDetail/UserPostCard.js","Components/WelcomeMsg/WelcomeMsg.js","Components/UserDetail/UserPost.js","Components/UserDetail/UserFriendCard.js","Components/UserDetail/UserFriend.js","Components/UserDetail/UserDetailFriendBtn.js","Components/UserDetail/UserDetail.js","Components/Hamburger/Hamburger.js","Components/Chat/ChatMap.js","Components/Chat/ChatCard.js","Components/Chat/Chat.js","Components/ChatList/ChatListCard.js","Components/ChatList/ChatList.js","Components/Home/Home.js","App.js","reportWebVitals.js","index.js"],"names":["OdinBookContext","createContext","OdinBookProvider","headers","children","useState","searchValueChange","setSearchValueChange","search","searchBarState","setSearchBarState","myFriends","setMyFriends","didMyFriendsMount","setDidMyFriendsMount","myAbout","setMyAbout","didMyAboutMount","setdidMyAboutMount","myPosts","setMyposts","didMyPostsMount","setDidMyPostsMount","myNewsfeed","setMyNewsFeed","didMyNewsFeedMount","setDidMyNewsFeedMount","myChatList","setMyChatList","isRead","setIsRead","didMyChatListMount","setDidMyChatListMount","loading","setLoading","isAuth","setIsAuth","JSON","parse","localStorage","getItem","jwtData","setJwtData","serverUrl","axios_request","a","route","data","method","axios_error","axios_response","token","authorization","axios","url","response_data","setItem","stringify","console","log","response","status","message","socket","setSocket","isLogin","useEffect","socket12","socketIOClient","withCredentials","emit","user","Provider","value","searchValue","searchBarStateValue","myFriendsValue","didMyFriendsMountValue","myAboutValue","myPostsValue","didMyPostsMountValue","myNewsFeedValue","didMyNewsFeedMountValue","didMyAboutMountValue","isAuthValue","myChatListValue","isReadValue","didMyChatListMountValue","className","MyPostForm","update_value","formTitle","user_post_response","setCreateClick","createClick","updateClick","setUpdateClick","useContext","error","setError","errors","setErrors","postLoading","setPostLoading","refTitle","useHistory","useRef","refContenText","current","title","content_text","location","useLocation","state","params","useParams","onClick","e","preventDefault","htmlFor","id","type","placeholder","name","ref","arr","Array","isArray","i","length","push","msg","uniqid","display_errors","err","MyPostUpdate","postid","updateData","mypost_update_route","MypostCreate","fname","lname","username","toLowerCase","MyPostDelete","deleteClick","setDeleteClick","user_delete_response","mypost_delete_route","deleteHandler","Navigation","to","label","match","useRouteMatch","path","isExact","pathname","split","element","document","querySelector","Login","isloginClick","setIsLoginClick","refUsername","refPassword","axios_login","cb_error","cb_response","password","Logout","clear","window","reload","Signup","signupClick","setSignupClick","ref_fname","ref_lname","ref_username","ref_password","SearchBar","history","ref_name","onSubmit","SearchResultCard","index","friendBtn","result","setFriendBtn","arrg","myFriendsIndex","pp","setpp","check","findIndex","x","stopPropagation","userid","_id","sub","style","color","get_index","splice","clickHandler","SearchResult","getLoading","setGetLoading","setResult","make_server_request","user_list_route","h","fill","map","UserNav","UseraAboutCard","objkey","clickIndex","setClickIndex","ee","setee","tooltip","setTooltip","empty_name","setEmpty_name","setState","str","bio","nickName","school","college","working","relationshipStatus","book","food","gender","dob","email","phone","changeHandler","getElementById","target","tagName","element_id","focus","border","boxShadow","outline","onChange","maxLength","selected","start","defaultValue","submitHandler","UserAbout","g","profile_route","__v","Object","keys","addEventListener","key","role","CommentForm","setComments","postIndex","comments","updateValue","valueRef","comment_list","comment","remove_empty","display","post_comment","autoComplete","CommentDelete","commentid","commentDeleteClick","setCommentDeleteClick","setCommentOptionIndex","CommentCard","commentOptionIndex","backgroundColor","UserLikesCard","UserLikes","setUsersLikedIndex","likeList","setLikeList","like","get_users_liked","get_myfriends","CommentCreate","UserPostCard","setPostid","setUpdateData","setUpdateIndex","indexOfCardClicked","setindexOfCardClicked","isOwner","likeLength","setLikeLength","likeClick","setPostIndex","setLikeClick","postsLength","cardError","setCardError","commentError","setCommentError","commentIconClicked","setCommentIconClicked","commentsLoading","setCommentsLoading","onlyOneClick","setonlyOneClick","userLikedIndex","includes","height","scrollHeight","scrollTo","borderRadius","like_post_route","like_post","comments_route","mesage","get_comments","WelcomeMsg","UserPost","setMyPosts","isWelcomeMsgClick","setIsWelcomeMsgClick","setIsOwner","updateIndex","get_posts","post_list_route","UserLikedIndex","from","elemnt_welcome_msg","concat","UserFriendCard","isChanged","setIsChanged","UserFriend","friend_list_route","UserDetailFriendBtn","UserDetail","Hamburger","ChatMap","d","yearstr","splityear","createdAt","Date","getFullYear","toString","getDate","getMonth","getHours","getMinutes","ChatCard","msgArr","setMsgArr","save_isread_false","last_msg","toISOString","save_received","save_sent","save_messages_on_database","sort_arr","sort","b","Chat","tempResponse","setTempResponse","setResponse","mymsgloading","setmsgloading","responseloading","setresponseloading","myMsg","setMyMsg","on","Promise","all","get_responses","get_my_messages","save_isreadtrue","newArr","message_container","v","sorted","is_read_index","isread","ChatListCard","no_unread_msgs","minute","hour","date","month","year","ChatList","chatListLoading","setChatListLoading","isreadLoading","setIsreadLoading","tempIsread","settempIsread","ischange","setischange","received","sent","forEach","dupl_index","users","Home","background","isClick","setIsclick","ref_isClick","classList","p","exact","exect","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.13d7cf6f.chunk.js","sourcesContent":["import axios from \"axios\";\nimport React, { createContext, useEffect, useState } from \"react\";\nimport async from \"async\";\n// import { response } from \"express\";\nimport { Switch, useLocation } from \"react-router-dom\";\nimport socketIOClient from \"socket.io-client\";\n\nconst ENDPOINT = \"https://odinbook12.herokuapp.com/odinbook\";\n\n// require(\"dotenv\").config();\n\nconst OdinBookContext = createContext();\n\nconst OdinBookProvider = ({ children }) => {\n  // console.log(process.env.REACT_APP_API_KEY);\n  // ex. http://localhost:3000/odinbook\n  // const [serverUrl] = useState(\"http://localhost:3000/odinbook\");\n\n  //to render the searchresult page if the user hits enter\n  const [searchValueChange, setSearchValueChange] = useState(false);\n\n  //to prefill the search bar if there is a value in the url\n  const [searchBarState, setSearchBarState] = useState({ search: \"\" });\n\n  //for MyFriends to not re-render\n  const [myFriends, setMyFriends] = useState([]);\n  const [didMyFriendsMount, setDidMyFriendsMount] = useState(true);\n\n  //for myabout to not re-render\n  const [myAbout, setMyAbout] = useState({});\n  const [didMyAboutMount, setdidMyAboutMount] = useState(true);\n\n  //for mypost to not re-render\n  const [myPosts, setMyposts] = useState([]);\n  const [didMyPostsMount, setDidMyPostsMount] = useState(true);\n\n  //for mynewsfeed to not re-render\n  const [myNewsfeed, setMyNewsFeed] = useState([]);\n  const [didMyNewsFeedMount, setDidMyNewsFeedMount] = useState(true);\n\n  //for chatlist\n  const [myChatList, setMyChatList] = useState([]);\n  const [isRead, setIsRead] = useState([]);\n  const [didMyChatListMount, setDidMyChatListMount] = useState(true);\n\n  const [loading, setLoading] = useState(true);\n\n  const [isAuth, setIsAuth] = useState(false);\n\n  // let jwt = JSON.parse(localStorage.getItem(\"jwtData\"));\n  const [jwtData, setJwtData] = useState(\n    JSON.parse(localStorage.getItem(\"jwtData\"))\n  );\n\n  let serverUrl = \"https://odinbook12.herokuapp.com\";\n\n  const axios_request = async ({\n    route,\n    data,\n    method,\n    axios_error,\n    axios_response,\n  }) => {\n    // console.log(\"hello\");\n    // const serverUrl = process.env.serverUrl;\n\n    // console.log(jwtData);\n    if (jwtData !== null || route === \"/login\" || route === \"/signup\") {\n      // console.log(\"helllo\");\n      try {\n        let token;\n        let headers;\n        if (route !== \"/login\" && route !== \"/signup\") {\n          token = jwtData.token;\n          headers = { authorization: `Bearer ${token}` };\n        }\n\n        // console.log(data);\n        // console.log(method);\n        // console.log(route);\n        const response_data = await axios({\n          url: `${serverUrl}${route}`,\n          method: method,\n          headers: headers || \"\",\n          data: data,\n        });\n        // console.log(jwtData);\n\n        if (route === \"/login\" || route === \"/signup\") {\n          localStorage.setItem(\n            \"jwtData\",\n            JSON.stringify(response_data.data.jwtData)\n          );\n          setJwtData(response_data.data.jwtData);\n        }\n        setIsAuth(true);\n        console.log(\"Utils Response=\", response_data);\n        axios_response(response_data);\n      } catch (err) {\n        if (err.response) {\n          console.log(\"Utils Error\", err.response.data);\n          if (err.response.status === 403) {\n            setIsAuth(false);\n          }\n        } else {\n          console.log(\"Utils Error\", err.message);\n        }\n        axios_error(err);\n      }\n    } else {\n      console.log(\"Utils Error= NO JWT TOKEN\");\n      setIsAuth(false);\n    }\n  };\n\n  const [socket, setSocket] = useState(\"\");\n\n  let headers;\n  const isLogin = async () => {\n    const route = \"/isUserAuth\";\n    const method = \"GET\";\n    // console.log(process.env.REACT_APP_API_KEY);\n\n    if (jwtData) {\n      try {\n        const token = jwtData.token;\n        headers = { authorization: `Bearer ${token}` };\n        console.log(headers);\n\n        const response = await axios({\n          url: `${serverUrl}${route}`,\n          method: method,\n          data: token,\n          headers: headers,\n        });\n\n        console.log(\"response from context login\", response);\n        setIsAuth(true);\n        setLoading(false);\n      } catch (err) {\n        console.log(\"error from context login\", err);\n        setLoading(false);\n        if (err.response) {\n          if (err.response.status == 403) {\n            setIsAuth(false);\n          }\n        }\n      }\n    } else {\n      setIsAuth(false);\n      setLoading(false);\n      console.log(\"context login no jwt token\");\n    }\n  };\n  useEffect(() => {\n    isLogin();\n\n    const socket12 = socketIOClient(ENDPOINT, {\n      withCredentials: true,\n    });\n\n    setSocket(socket12);\n    console.log(loading);\n    if (jwtData) {\n      socket12.emit(\"join\", jwtData.user);\n    }\n  }, []);\n\n  return (\n    <OdinBookContext.Provider\n      value={{\n        searchValue: [searchValueChange, setSearchValueChange],\n        searchBarStateValue: [searchBarState, setSearchBarState],\n        jwtData: jwtData,\n\n        myFriendsValue: [myFriends, setMyFriends],\n        didMyFriendsMountValue: [didMyFriendsMount, setDidMyFriendsMount],\n\n        myAboutValue: [myAbout, setMyAbout],\n\n        myPostsValue: [myPosts, setMyposts],\n        didMyPostsMountValue: [didMyPostsMount, setDidMyPostsMount],\n\n        myNewsFeedValue: [myNewsfeed, setMyNewsFeed],\n        didMyNewsFeedMountValue: [didMyNewsFeedMount, setDidMyNewsFeedMount],\n\n        didMyAboutMountValue: [didMyAboutMount, setdidMyAboutMount],\n\n        isAuthValue: [isAuth, setIsAuth],\n\n        socket: socket,\n\n        axios_request: axios_request,\n\n        myChatListValue: [myChatList, setMyChatList],\n        isReadValue: [isRead, setIsRead],\n        didMyChatListMountValue: [didMyChatListMount, setDidMyChatListMount],\n      }}\n    >\n      {!loading ? children : <div className=\"loading\">loading context....</div>}\n    </OdinBookContext.Provider>\n  );\n};\n\nexport { OdinBookContext, OdinBookProvider };\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { OdinBookContext } from \"../Context\";\nimport uniqid from \"uniqid\";\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\nimport \"./MyPostForm.css\";\n\nconst MyPostForm = ({\n  route,\n  update_value,\n  method,\n  formTitle,\n  user_post_response,\n  createClick,\n  setCreateClick,\n  updateClick,\n  setUpdateClick,\n}) => {\n  const { axios_request } = useContext(OdinBookContext);\n\n  const [error, setError] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n\n  const [postLoading, setPostLoading] = useState(false);\n\n  const history = useHistory();\n\n  const refTitle = useRef();\n  const refContenText = useRef();\n\n  console.log(refTitle);\n\n  useEffect(() => {\n    refTitle.current.value = update_value ? update_value.title : \"\";\n    refContenText.current.value = update_value ? update_value.content_text : \"\";\n  }, []);\n  console.log(update_value);\n\n  const submitHandler = () => {\n    setPostLoading(true);\n    const axios_error = (err) => {\n      if (err.response) {\n        console.log(err.response.data);\n        setErrors(err.response.data);\n      } else {\n        console.log(err.message);\n        setError(err.message);\n      }\n      setPostLoading(false);\n    };\n\n    const axios_response = (response) => {\n      console.log(response);\n      setErrors([]);\n      setPostLoading(false);\n      user_post_response(response);\n      setCreateClick(false);\n      // setUpdateClick(false);\n    };\n\n    console.log(refTitle.current.value);\n    axios_request({\n      route: route,\n      data: {\n        title: refTitle.current.value,\n        content_text: refContenText.current.value,\n      },\n      method: method,\n      axios_error: axios_error,\n      axios_response: axios_response,\n    });\n  };\n\n  const display_errors = () => {\n    let arr = [];\n\n    if (!Array.isArray(errors)) {\n      arr.push(<li key={uniqid()}>{errors.msg}</li>);\n    } else {\n      for (let i = 0; i < errors.length; i++) {\n        arr.push(<li key={uniqid()}>{errors[i].msg}</li>);\n      }\n    }\n\n    return <ul className=\"errors\">{arr}</ul>;\n  };\n\n  const location = useLocation();\n  console.log(location.state);\n  const params = useParams();\n  console.log(params);\n\n  return (\n    <div className=\"MyPostForm\">\n      {error && (\n        <div className=\"error\">\n          <div>{error} </div>\n          <div>Please try refreshing the page</div>\n        </div>\n      )}\n      {!error && (\n        <div className=\"form-container\">\n          <div className=\"form-head\">\n            <div className=\"form-title\">{formTitle}</div>\n            <div\n              className=\"form-close-btn fas fa-times-circle\"\n              onClick={(e) => {\n                e.preventDefault();\n                setCreateClick(false);\n              }}\n            ></div>\n          </div>\n\n          <form>\n            <div className=\"form-group\">\n              <label htmlFor=\"title\">Title</label>\n              <input\n                id=\"title\"\n                type=\"text\"\n                placeholder=\"Enter your post title\"\n                name=\"title\"\n                ref={refTitle}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"content_text\">Text</label>\n              <textarea\n                type=\"text\"\n                id=\"content_text\"\n                name=\"content_text\"\n                placeholder=\"Add text\"\n                ref={refContenText}\n                // value={}\n              />\n            </div>\n            {display_errors()}\n            <div className=\"submit-btn\">\n              <button\n                onClick={(e) => {\n                  e.preventDefault();\n                  //to prevent multiple clicks\n                  if (postLoading) {\n                    return;\n                  } else {\n                    submitHandler();\n                  }\n                }}\n              >\n                {!postLoading ? \"Submit\" : \"Submitting...\"}\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n};\nexport default MyPostForm;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport MyPostForm from \"./MyPostForm\";\nimport { OdinBookContext } from \"../Context\";\nimport { useParams } from \"react-router-dom\";\n\nconst MyPostUpdate = ({\n  postid,\n  updateClick,\n  setUpdateClick,\n  updateData,\n  user_post_response,\n}) => {\n  // const { axios_request } = useContext(OdinBookContext);\n  // const [post, setPost] = useState(\"\");\n  // const [error, setError] = useState(\"\");\n  // const [getLoading, setGetLoading] = useState(true);\n  // const [formBtnClicked, setFormBtnClicked] = useState(true);\n\n  // const params = useParams();\n\n  // const post_detail_route = `/post/${postid}`;\n  // const post_detail_method = \"GET\";\n\n  const mypost_update_route = `/mypost/${postid}`;\n  const mypost_update_method = \"PUT\";\n\n  // useEffect(() => {\n  //   make_server_request();\n  // }, []);\n\n  // const make_server_request = () => {\n  //   const cb_error = (err) => {\n  //     setError(err.message);\n  //     setGetLoading(false);\n  //   };\n  //   const cb_response = (response) => {\n  //     setPost(response.data);\n  //     setGetLoading(false);\n  //     console.log(\"update data\", updateData);\n  //     console.log(\"get request\", response);\n  //   };\n\n  //   axios_request({\n  //     route: post_detail_route,\n  //     data: post,\n  //     method: post_detail_method,\n  //     axios_error: cb_error,\n  //     axios_response: cb_response,\n  //   });\n  // };\n\n  // console.log(post);\n\n  return (\n    <div className=\"MyPostUpdate\">\n      {updateClick && (\n        <MyPostForm\n          route={mypost_update_route}\n          update_value={updateData}\n          method={mypost_update_method}\n          createClick={updateClick}\n          setCreateClick={setUpdateClick}\n          formTitle=\"Update Post\"\n          user_post_response={user_post_response}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default MyPostUpdate;\n","import React, { useState } from \"react\";\nimport MyPostForm from \"./MyPostForm\";\nimport \"./MyPostCreate.css\";\nimport { useLocation } from \"react-router-dom\";\n\nconst MypostCreate = ({ user_post_response, createClick, setCreateClick }) => {\n  // const [formBtnClicked, setFormBtnClicked] = useState(false);\n\n  const mypost_create_route = \"/myposts\";\n  const mypost_create_method = \"POST\";\n\n  const location = useLocation();\n  const fname = location.state.fname;\n  const lname = location.state.lname;\n  const username = location.state.username;\n  return (\n    <div className=\"MyPostCreate\">\n      <>\n        <div className=\"show-form-container\">\n          <div className=\"profile-picture\">{[...fname[0].toLowerCase()]}</div>\n          <div\n            className=\"show-form-btn\"\n            onClick={(e) => {\n              e.preventDefault();\n              setCreateClick(true);\n            }}\n          >\n            What's on your mind..?\n          </div>\n        </div>\n        {createClick && (\n          <MyPostForm\n            route={mypost_create_route}\n            method={mypost_create_method}\n            formTitle=\"Create Post\"\n            user_post_response={user_post_response}\n            createClick={createClick}\n            setCreateClick={setCreateClick}\n          />\n        )}\n      </>\n    </div>\n  );\n};\n\nexport default MypostCreate;\n","import React, { useContext, useState } from \"react\";\nimport { Redirect, useHistory, useParams } from \"react-router-dom\";\nimport { OdinBookContext } from \"../Context\";\nimport \"./MyPostDelete.css\";\n\nconst MyPostDelete = ({\n  deleteClick,\n  setDeleteClick,\n  user_delete_response,\n  postid,\n}) => {\n  console.log(postid);\n\n  const { axios_request } = useContext(OdinBookContext);\n  const mypost_delete_route = `/mypost/${postid}`;\n  const mypost_delete_method = \"DELETE\";\n\n  const [postLoading, setPostLoading] = useState(false);\n\n  const [error, setError] = useState(\"\");\n\n  const make_server_request = () => {\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n      setPostLoading(false);\n    };\n\n    const cb_response = (response) => {\n      setPostLoading(false);\n      // setDeleteClick(false);\n      user_delete_response(response);\n    };\n\n    axios_request({\n      route: mypost_delete_route,\n      data: \"\",\n      method: mypost_delete_method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n  };\n\n  const deleteHandler = () => {\n    make_server_request();\n  };\n\n  return (\n    <div className=\"MyPostDelete\">\n      {error && (\n        <div className=\"error\">\n          <div>{error}</div>\n          <div>Please try refreshing the Page</div>\n        </div>\n      )}\n      {!error && (\n        <div className=\"dialog-box\">\n          <p className=\"confitm-msg\">Are you sure want to delete this post?</p>\n          <div className=\"btn\">\n            <button\n              className=\"dlt-btn\"\n              onClick={(e) => {\n                e.preventDefault();\n                if (!postLoading) {\n                  setPostLoading(true);\n                  deleteHandler();\n                } else {\n                  return;\n                }\n              }}\n            >\n              {!postLoading ? \"Delete\" : \"Deleting post....\"}\n            </button>\n\n            <button\n              className=\"cancel-btn\"\n              onClick={(e) => {\n                e.preventDefault();\n                setDeleteClick(false);\n              }}\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MyPostDelete;\n","import React from \"react\";\nimport {\n  useRouteMatch,\n  Link,\n  useLocation,\n  useParams,\n  useHistory,\n} from \"react-router-dom\";\nimport \"./Navigation.css\";\n\nconst Navigation = ({ to, label }) => {\n  console.log(to);\n  console.log(label);\n  let match = useRouteMatch({ path: to });\n\n  if (match != null) {\n    match = match.isExact ? true : false;\n  } else {\n    match = false;\n  }\n\n  const location = useLocation();\n  console.log(location);\n\n  const params = useParams();\n  // console.log(params);\n  const history = useHistory();\n  // console.log(history);\n\n  const arr = location.pathname.split(\"/\");\n\n  const element = document.querySelector(\"#search\");\n\n  if (element) {\n    if (arr[1] !== \"search\") {\n      element.value = \"\";\n    }\n  }\n  return (\n    <div className={match ? \"active nav-links\" : \"nav-links\"}>\n      <Link to={to}>\n        <i className={label}></i>\n      </Link>\n    </div>\n  );\n};\n\nexport default Navigation;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { OdinBookContext } from \"../Context\";\nimport uniqid from \"uniqid\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport \"./Login.css\";\n\nconst Login = () => {\n  const { axios_request, isAuthValue } = useContext(OdinBookContext);\n  const [isAuth, setIsAuth] = isAuthValue;\n  const [isloginClick, setIsLoginClick] = useState(false);\n\n  const refUsername = useRef();\n  const refPassword = useRef();\n  const [errors, setErrors] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [postLoading, setPostLoading] = useState(false);\n\n  const login_route = \"/login\";\n  const login_method = \"POST\";\n\n  const axios_login = async () => {\n    setPostLoading(true);\n\n    const cb_error = (err) => {\n      if (err.response) {\n        setErrors(err.response.data);\n      } else {\n        setError(err.message);\n      }\n      setPostLoading(false);\n    };\n\n    const cb_response = (response) => {\n      setPostLoading(false);\n    };\n\n    axios_request({\n      route: login_route,\n      data: {\n        username: refUsername.current.value,\n        password: refPassword.current.value,\n      },\n      method: login_method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n  };\n\n  const display_errors = () => {\n    let arr = [];\n\n    if (!Array.isArray(errors)) {\n      arr.push(<li key={uniqid()}>{errors.msg}</li>);\n    } else {\n      for (let i = 0; i < errors.length; i++) {\n        arr.push(<li key={uniqid()}>{errors[i].msg}</li>);\n      }\n    }\n\n    return <ul className=\"errors\">{arr}</ul>;\n  };\n\n  const history = useHistory();\n\n  // useEffect(() => {\n  //   if (isAuth == true) {\n  //     history.push(\"/\");\n  //   }\n  // }, [isAuth]);\n\n  return (\n    <div className=\"Login\">\n      {error && <div className=\"error\">{error}</div>}\n      {!error && (\n        <form>\n          <div className=\"head\"> Login</div>\n          <div className=\"form-group\">\n            <label htmlFor=\"username\">Username:</label>\n            <input\n              type=\"text\"\n              name=\"username\"\n              id=\"username\"\n              placeholder=\"Enter your username\"\n              ref={refUsername}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password:</label>\n            <input\n              type=\"text\"\n              name=\"password\"\n              id=\"password\"\n              placeholder=\"Enter your password\"\n              ref={refPassword}\n            />\n          </div>\n          {display_errors()}\n          <div className=\"buttons\">\n            <div className=\"login-btn\">\n              <button\n                onClick={(e) => {\n                  e.preventDefault();\n                  if (postLoading) {\n                    return;\n                  } else if (\n                    refUsername.current.value === \"\" ||\n                    refPassword.current.value === \"\"\n                  ) {\n                    return;\n                  } else {\n                    return axios_login();\n                  }\n                }}\n              >\n                {postLoading ? \"Logging-in\" : \"Log-in\"}\n              </button>\n            </div>\n            <div\n              className=\"signup-btn\"\n              onClick={(e) => {\n                e.preventDefault();\n                setIsLoginClick(true);\n              }}\n            >\n              <button>Sign-up</button>\n            </div>\n          </div>\n\n          {isloginClick && <Redirect to=\"/signup\" />}\n        </form>\n      )}\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useContext, useEffect } from \"react\";\nimport { OdinBookContext } from \"./Context\";\n\nconst Logout = () => {\n  const { isAuthValue } = useContext(OdinBookContext);\n  const [isAuth, setIsAuth] = isAuthValue;\n\n  useEffect(() => {\n    setIsAuth(false);\n  }, [isAuth]);\n\n  return (\n    <div className=\"Logout\">\n      {localStorage.clear()}\n\n      {window.location.reload()}\n    </div>\n  );\n};\n\nexport default Logout;\n","import React, { useContext, useRef, useState } from \"react\";\nimport { OdinBookContext } from \"../Context\";\nimport uniqid from \"uniqid\";\nimport \"./Signup.css\";\nimport { Redirect } from \"react-router-dom\";\n\nconst Signup = () => {\n  const { axios_request } = useContext(OdinBookContext);\n  const [signupClick, setSignupClick] = useState(false);\n\n  const [error, setError] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n  const [postLoading, setPostLoading] = useState(false);\n\n  const ref_fname = useRef();\n  const ref_lname = useRef();\n  const ref_username = useRef();\n  const ref_password = useRef();\n\n  const axios_signup = () => {\n    setPostLoading(true);\n    const signup_route = \"/signup\";\n    const signup_method = \"POST\";\n    const cb_error = (err) => {\n      if (err.response) {\n        setErrors(err.response.data);\n      } else {\n        setError(err.message);\n      }\n      setPostLoading(false);\n    };\n\n    const cb_response = (response) => {\n      setPostLoading(false);\n      setErrors([]);\n      setError(\"\");\n    };\n\n    axios_request({\n      route: signup_route,\n      data: {\n        fname: ref_fname.current.value,\n        lname: ref_lname.current.value,\n        username: ref_username.current.value,\n        password: ref_password.current.value,\n      },\n      method: signup_method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n  };\n\n  const display_errors = () => {\n    let arr = [];\n\n    if (!Array.isArray(errors)) {\n      arr.push(<li key={uniqid()}>{errors.msg}</li>);\n    } else {\n      for (let i = 0; i < errors.length; i++) {\n        arr.push(<li key={uniqid()}>{errors[i].msg}</li>);\n      }\n    }\n\n    return <ul className=\"errors\">{arr}</ul>;\n  };\n\n  return (\n    <div className=\"Signup\">\n      {error && <div className=\"error\">{error}</div>}\n      {!error && (\n        <form>\n          <div className=\"head\">Signup</div>\n          <div className=\"form-group\">\n            <label htmlFor=\"fname\">First Name:</label>\n            <input\n              type=\"text\"\n              name=\"fname\"\n              id=\"fname\"\n              placeholder=\"Enter your First Name\"\n              ref={ref_fname}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"lname\">Last Name:</label>\n            <input\n              type=\"text\"\n              name=\"lname\"\n              id=\"lname\"\n              placeholder=\"Enter your Last Name\"\n              ref={ref_lname}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"username\">Username:</label>\n            <input\n              type=\"text\"\n              name=\"username\"\n              id=\"username\"\n              placeholder=\"Enter your username\"\n              ref={ref_username}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password:</label>\n            <input\n              type=\"text\"\n              name=\"password\"\n              id=\"password\"\n              placeholder=\"Enter your password\"\n              ref={ref_password}\n            />\n          </div>\n          {display_errors()}\n          <div className=\"buttons\">\n            <div className=\"signup-btn\">\n              <button\n                onClick={(e) => {\n                  e.preventDefault();\n                  if (!postLoading) {\n                    return axios_signup();\n                  } else {\n                    return;\n                  }\n                }}\n              >\n                {postLoading ? \"signing-in\" : \"Sign-up\"}\n              </button>\n            </div>\n            <div\n              className=\"login-btn\"\n              onClick={(e) => {\n                e.preventDefault();\n                setSignupClick(true);\n              }}\n            >\n              <button>Login</button>\n            </div>\n          </div>\n\n          {signupClick && <Redirect to=\"/login\" />}\n        </form>\n      )}\n    </div>\n  );\n};\n\nexport default Signup;\n","import { concatSeries } from \"async\";\nimport React, { useContext, useRef, useState } from \"react\";\nimport { Link, Redirect, useHistory, useParams } from \"react-router-dom\";\nimport { OdinBookContext } from \"../Context\";\nimport \"./SearchBar.css\";\n\nconst SearchBar = () => {\n  const { searchValue } = useContext(OdinBookContext);\n  const [searchValueChange, setSearchValueChange] = searchValue;\n\n  const history = useHistory();\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    console.log(ref_name.current.value);\n    setSearchValueChange(true);\n    if (ref_name.current.value === \"\") {\n      return;\n    } else {\n      console.log(ref_name.current.value);\n      return history.push(`/search/${ref_name.current.value}`);\n    }\n  };\n\n  const ref_name = useRef();\n\n  return (\n    <div className=\"SearchBar\">\n      <form onSubmit={submitHandler}>\n        <input\n          type=\"text\"\n          id=\"search\"\n          name=\"search\"\n          ref={ref_name}\n          placeholder=\"Search Odinbook\"\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default SearchBar;\n","import { Result } from \"express-validator\";\nimport { set } from \"mongoose\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Link, useHistory, useLocation, useParams } from \"react-router-dom\";\nimport { OdinBookContext } from \"../Context\";\n\nconst SearchResultCard = ({\n  value,\n  index,\n  result,\n  friendBtn,\n  setFriendBtn,\n  arrg,\n}) => {\n  const { jwtData, myFriendsValue, axios_request } = useContext(\n    OdinBookContext\n  );\n  const [myFriends, setMyFriends] = myFriendsValue;\n\n  const [myFriendsIndex, setMyFriendsIndex] = useState(null);\n  const [error, setError] = useState(\"\");\n\n  //removes friend\n  const clickHandler = () => {\n    // setIsClicked(!isClicked);\n\n    const route = `/friend/${value._id}`;\n    const method = \"POST\";\n\n    const cb_error = (err) => {\n      if (err.response) {\n        console.log(err.response.data);\n      } else {\n        setError(err.message);\n      }\n    };\n\n    const cb_response = (response) => {\n      // console.log(response);\n      // setResponse(response.data);\n    };\n\n    axios_request({\n      route: route,\n      data: \"\",\n      method: method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n\n    if (friendBtn[index] == false) {\n      const get_index = myFriends.findIndex(\n        (x) => x.username == value.username\n      );\n      if (get_index !== -1) {\n        console.log(get_index);\n        myFriends.splice(get_index, 1);\n        setMyFriends(myFriends);\n      }\n    } else {\n      myFriends.push(value);\n    }\n  };\n\n  const [pp, setpp] = useState(false);\n\n  useEffect(() => {\n    const check = myFriends.findIndex((x) => x.username === value.username);\n    console.log(check);\n    if (check !== -1) {\n      friendBtn[index] = true;\n      setFriendBtn(friendBtn);\n      // setMyFriendsIndex(check);\n    }\n    setpp(!pp);\n  }, []);\n\n  const element = document.querySelector(\"#search\");\n  // console.log(element.value);\n  console.log(myFriendsIndex);\n  return (\n    <div className=\"SearchResultCard\">\n      {error && <div className=\"error\">{error}</div>}\n      {!error && (\n        <>\n          <div className=\"profile-picture\">\n            {[...value.fname[0].toLowerCase()]}\n          </div>\n          <div\n            className=\"name-container\"\n            onClick={(e) => {\n              e.stopPropagation();\n              e.preventDefault();\n              element.value = \"\";\n            }}\n          >\n            <Link\n              to={{\n                pathname: `/user/${value.username}/posts`,\n                state: {\n                  userid: value._id,\n                  fname: value.fname,\n                  lname: value.lname,\n                  username: value.username,\n                },\n              }}\n            >\n              <div className=\"name\">\n                <span>{value.fname} </span>\n                <span>{value.lname}</span>\n              </div>\n            </Link>\n            <div className=\"username\">{value.username}</div>\n          </div>\n          {value._id !== jwtData.sub && (\n            <div\n              className={\n                friendBtn[index]\n                  ? \"add-btn fas fa-user-minus\"\n                  : \"add-btn fas fa-user-plus\"\n              }\n              style={{ color: friendBtn[index] ? \"red\" : \"blue\" }}\n              onClick={(e) => {\n                e.preventDefault();\n                e.stopPropagation();\n\n                friendBtn[index] = !friendBtn[index];\n                setFriendBtn(friendBtn);\n                setpp(!pp);\n                clickHandler();\n              }}\n            ></div>\n          )}\n\n          {value._id !== jwtData.sub && (\n            <div className=\"chat-link-container\">\n              <Link\n                to={{\n                  pathname: \"/chat\",\n                  state: {\n                    userid: value._id,\n                    fname: value.fname,\n                    lname: value.lname,\n                    username: value.username,\n                  },\n                }}\n              >\n                <div className=\"chat-btn fab fa-facebook-messenger\"></div>\n              </Link>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default SearchResultCard;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { useHistory, useParams, Link } from \"react-router-dom\";\nimport { OdinBookContext } from \"../Context\";\nimport uniqid from \"uniqid\";\nimport \"./SearchResult.css\";\nimport axios from \"axios\";\nimport SearchResultCard from \"./SearchResultCard\";\n\nconst SearchResult = () => {\n  const { searchValue, axios_request } = useContext(OdinBookContext);\n\n  const [searchValueChange, setSearchValueChange] = searchValue;\n\n  const [friendBtn, setFriendBtn] = useState([]);\n\n  const params = useParams();\n\n  const [error, setError] = useState(\"\");\n\n  const [getLoading, setGetLoading] = useState(true);\n\n  const [result, setResult] = useState([]);\n\n  const make_server_request = () => {\n    // friendBtn.splice(0, friendBtn.length);\n    // setFriendBtn(friendBtn);\n    // console.log(friendBtn);\n\n    const user_list_route = `/user/search/${params.name}`;\n    const user_list_method = \"GET\";\n\n    const cb_error = (err) => {\n      if (err.response) {\n        console.log(err.response.data);\n      } else {\n        setError(err.message);\n      }\n      setGetLoading(false);\n    };\n\n    const cb_response = (response) => {\n      console.log(response);\n      setGetLoading(false);\n      if (!Array.isArray(response.data)) {\n        setResult([response.data]);\n      } else {\n        setResult(response.data);\n      }\n      const h = Array(response.data.length).fill(false);\n      setFriendBtn(h);\n    };\n\n    axios_request({\n      route: user_list_route,\n      data: \"\",\n      method: user_list_method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n  };\n\n  useEffect(() => {\n    if (searchValueChange === true) {\n      make_server_request();\n\n      setSearchValueChange(false);\n    }\n  }, [searchValueChange]);\n\n  useEffect(() => {\n    if (!searchValueChange) {\n      if (params) {\n        // console.log(\"skdksjdskdjskdjsdk\");\n        //to prefill the search bar with the value in the url incase the user refrehes the page\n        const element = document.querySelector(\"#search\");\n        element.value = params.name;\n        // console.log(params);\n        make_server_request();\n      }\n    }\n  }, []);\n\n  let arrg = [];\n\n  console.log(friendBtn);\n\n  return (\n    <div className=\"SearchResult\">\n      {error && <div className=\"error\">{error}</div>}\n      {!error && (\n        <>\n          {getLoading && \"loading...\"}\n          {!getLoading &&\n            (result.length == 0 ? (\n              <div className=\"empty\">No users found with this query :(</div>\n            ) : (\n              result.map((value, index) => {\n                return (\n                  <SearchResultCard\n                    value={value}\n                    index={index}\n                    setResult={setResult}\n                    result={result}\n                    key={uniqid()}\n                    friendBtn={friendBtn}\n                    setFriendBtn={setFriendBtn}\n                    arrg={arrg}\n                  />\n                );\n              })\n            ))}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default SearchResult;\n","import React from \"react\";\nimport { useRouteMatch, Link } from \"react-router-dom\";\nimport \"./UserNav.css\";\n\nconst UserNav = ({ to, fname, lname, userid, username, label }) => {\n  let match = useRouteMatch({ path: to });\n  if (match) {\n    match = match.isExact;\n    console.log(match);\n  }\n\n  return (\n    <div className={match ? \"active nav-links\" : \"nav-links\"}>\n      <Link to={{ pathname: to, state: { fname, lname, userid, username } }}>\n        {label}\n      </Link>\n    </div>\n  );\n};\n\nexport default UserNav;\n","import React, { useEffect, useState, useContext, useRef } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { OdinBookContext } from \"../Context\";\n\nconst UseraAboutCard = ({\n  objkey,\n  index,\n  clickIndex,\n  setClickIndex,\n  result,\n  setResult,\n  ee,\n  setee,\n  jwtData,\n  userid,\n}) => {\n  const { myAboutValue, didMyAboutMountValue, axios_request } = useContext(\n    OdinBookContext\n  );\n  const [myAbout, setMyAbout] = myAboutValue;\n\n  const [error, setError] = useState(\"\");\n\n  const [tooltip, setTooltip] = useState(false);\n  const [empty_name, setEmpty_name] = useState(false);\n\n  const [state, setState] = useState({ [objkey]: ee[objkey] });\n\n  const arr = { [objkey]: useRef() };\n  console.log(arr);\n\n  console.log(objkey);\n\n  // console.log(state);\n  const str = {\n    // fname: \"First Name\",\n    // lname: \"Last Name\",\n    bio: \"Bio\",\n    nickName: \"Nick-name\",\n    school: \"School\",\n    college: \"College\",\n    working: \"Work Place\",\n    relationshipStatus: \"Relationhsip Status\",\n    book: \"Book\",\n    food: \"Food\",\n    gender: \"Gender\",\n    dob: \"Date of birth\",\n    email: \"Email\",\n    phone: \"Phone\",\n  };\n  const changeHandler = (e) => {\n    console.log(e);\n    e.preventDefault();\n    const element = document.getElementById(objkey);\n    console.log(element);\n\n    const { name, value } = e.target;\n\n    if (element.tagName == \"INPUT\") {\n      const element_id = element.id;\n      const arr = [...value];\n      console.log(arr.length);\n      if (element_id !== \"food\" && element_id !== \"book\") {\n        console.log(element_id);\n        if (arr.length >= 30) {\n          setTooltip(true);\n          return;\n        } else {\n          setTooltip(false);\n        }\n      } else if (element_id == \"food\" || element_id == \"book\") {\n        if (arr.length >= 50) {\n          setTooltip(true);\n          return;\n        } else {\n          setTooltip(false);\n        }\n      }\n    }\n\n    setState({ ...state, [name]: value });\n  };\n\n  const submitHandler = (e) => {\n    console.log(e);\n    e.preventDefault();\n    const route = \"/myprofile\";\n    const method = \"PUT\";\n\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n    };\n\n    const cb_response = (response) => {\n      console.log(response);\n    };\n\n    console.log(state);\n    if (state.fname == \"\" || state.lname == \"\") {\n      // setTooltip(true);\n      console.log(state);\n      return;\n    }\n\n    console.log(state, \"aksamskamskasmk\");\n    axios_request({\n      route: route,\n      data: state,\n      method: method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n  };\n\n  useEffect(() => {\n    if (clickIndex == index) {\n      const element = document.getElementById(objkey);\n      element.focus();\n      console.log(element);\n      element.style.border = \"1px solid blue\";\n      element.style.boxShadow = \"0.3px 0.3px 5px blue\";\n      element.style.outline = \"none\";\n      const savediv = document.getElementById(`save-icon-${index}`);\n      savediv.style.color = \"blue\";\n    }\n  }, []);\n\n  console.log(empty_name);\n\n  return (\n    <div className=\"UserAboutCard\">\n      {error && <div className=\"error\">{error}</div>}\n      {!error && (\n        <>\n          <form\n            onSubmit={(e) => {\n              e.preventDefault();\n              return;\n            }}\n          >\n            <div className=\"form-group\">\n              <label htmlFor={objkey}>{str[objkey]}</label>\n              <div className=\"container\">\n                {clickIndex != index && (\n                  <div className=\"profile-values\">\n                    {ee[objkey] || `No ${str[objkey]} added`}\n                  </div>\n                )}\n                {clickIndex == index &&\n                  objkey !== \"relationshipStatus\" &&\n                  objkey !== \"gender\" &&\n                  objkey !== \"dob\" &&\n                  objkey !== \"bio\" && (\n                    <input\n                      name={objkey}\n                      id={objkey}\n                      value={state[objkey]}\n                      onChange={changeHandler}\n                      maxLength={\n                        objkey == \"food\" || objkey == \"book\" ? \"50\" : \"30\"\n                      }\n                    />\n                  )}\n\n                {tooltip == true && (\n                  <div className=\"input-tooltip\">\n                    <>\n                      <span>No more than </span>\n                      {objkey == \"food\" || objkey == \"book\" ? \"50\" : \"30\"}\n                      <span> characters :)</span>{\" \"}\n                    </>\n                  </div>\n                )}\n                {clickIndex == index && objkey == \"bio\" && (\n                  <div className=\"bio-container\">\n                    <textarea\n                      name=\"bio\"\n                      id=\"bio\"\n                      value={state[objkey]}\n                      onChange={changeHandler}\n                    />\n                  </div>\n                )}\n\n                {clickIndex == index && objkey == \"dob\" && (\n                  <input\n                    type=\"date\"\n                    name=\"dob\"\n                    id=\"dob\"\n                    selected={state[objkey] ? null : \"\"}\n                    // onChange={changeHandler}\n                    start\n                  />\n                )}\n                {clickIndex == index && objkey == \"relationshipStatus\" && (\n                  <select\n                    id=\"relationshipStatus\"\n                    name=\"relationshipStatus\"\n                    onChange={changeHandler}\n                    defaultValue={ee[objkey]}\n                  >\n                    <option value=\"Status\">Status</option>\n                    <option value=\"Married\">Married</option>\n                    <option value=\"Single\">Single</option>\n                    <option value=\"Divorced\">Divorced</option>\n                    <option value=\"It's complicated\">It's complicated</option>\n                    <option value=\"In a relationship\">In relationship</option>\n                    <option value=\"Open Relationship\">Open Relationship</option>\n                    <option value=\"Engaged\">Engaged</option>\n                    <option value=\"Widowed\">Widowed</option>\n                  </select>\n                )}\n                {clickIndex == index && objkey === \"gender\" && (\n                  <select\n                    id=\"gender\"\n                    name=\"gender\"\n                    onChange={changeHandler}\n                    defaultValue={ee[objkey]}\n                  >\n                    <option value=\"Male\">Male</option>\n                    <option value=\"Female\">Female</option>\n                    <option value=\"Transgender\">Transgender</option>\n                    <option value=\"Gender Neutral\"> Gender Neutral</option>\n                    <option value=\"Non Binary\">Non Binary</option>\n                  </select>\n                )}\n              </div>\n              {userid === jwtData.sub && clickIndex !== index && (\n                <div\n                  className=\"edit-icon fas fa-edit\"\n                  onClick={(e) => {\n                    console.log(e);\n                    e.preventDefault();\n                    e.stopPropagation();\n                    setClickIndex(index);\n                  }}\n                ></div>\n              )}\n              {jwtData.sub === userid && clickIndex == index && (\n                <div\n                  id={`save-icon-${index}`}\n                  className=\"save-icon fas fa-save\"\n                  onClick={(e) => {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    if (state.fname == \"\" || state.lname == \"\") {\n                      setEmpty_name(true);\n                    } else {\n                      setClickIndex(null);\n                      ee[objkey] = state[objkey];\n                      setee(ee);\n                      myAbout[objkey] = state[objkey];\n                      setMyAbout(myAbout);\n                      submitHandler(e);\n                      setEmpty_name(false);\n                    }\n                  }}\n                ></div>\n              )}\n\n              {empty_name && (\n                <div className=\"empty_name\">\n                  {state.fname == \"\"\n                    ? \"First name cannot be empty\"\n                    : \"Last name cannot be empty\"}\n                </div>\n              )}\n            </div>\n          </form>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default UseraAboutCard;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { OdinBookContext } from \"../Context\";\nimport UseraAboutCard from \"./UserAboutCard\";\nimport uniqid from \"uniqid\";\nimport \"./UserAbout.css\";\n\nconst UserAbout = () => {\n  const {\n    myAboutValue,\n    didMyAboutMountValue,\n    axios_request,\n    jwtData,\n  } = useContext(OdinBookContext);\n  const [myAbout, setMyAbout] = myAboutValue;\n  const [didMyAboutMount, setdidMyAboutMount] = didMyAboutMountValue;\n\n  const [result, setResult] = useState();\n\n  const [getLoading, setGetLoading] = useState(true);\n\n  const [about, setAbout] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const location = useLocation();\n  const fname = location.state.fname;\n  const lname = location.state.lname;\n  const username = location.state.username;\n  const userid = location.state.userid;\n\n  const profile_route = `/profile/${userid}`;\n  const profile_route_method = \"GET\";\n\n  const [clickIndex, setClickIndex] = useState(null);\n\n  const make_server_request = () => {\n    const cb_response = (response) => {\n      if (userid === jwtData.sub) {\n        setMyAbout(response.data);\n      }\n      console.log(response.data);\n      setResult(response.data);\n\n      setGetLoading(false);\n    };\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n      setGetLoading(false);\n    };\n\n    axios_request({\n      route: profile_route,\n      data: \"\",\n      method: profile_route_method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n  };\n\n  useEffect(() => {\n    console.log(jwtData.sub, userid);\n    if (jwtData.sub !== userid) {\n      make_server_request();\n    } else {\n      if (didMyAboutMount) {\n        make_server_request();\n        setdidMyAboutMount(false);\n      } else {\n        setResult(myAbout);\n        setGetLoading(false);\n      }\n    }\n  }, [location.pathname]);\n\n  let g;\n  if (result) {\n    delete result.user;\n    delete result._id;\n    delete result.__v;\n\n    g = Object.keys(result);\n    console.log(g);\n  }\n\n  const [tooltip, setTooltip] = useState(null);\n  const [ee, setee] = useState({});\n\n  useEffect(() => {\n    if (result) {\n      let h = {};\n      for (let i = 0; i < g.length; i++) {\n        h[g[i]] = result[g[i]];\n        if (i === g.length - 1) {\n          setee(h);\n        }\n      }\n    }\n  }, [result]);\n\n  // const [ee, setee] = useState();\n  console.log(ee);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", (e) => {\n      // console.log(e.key, \"jdfjdfjdfnjdfn\");\n      if (e.key == \"Escape\") {\n        setClickIndex(null);\n      }\n    });\n  }, []);\n\n  return (\n    <div className=\"UserAbout\">\n      {error && <div className=\"error\">{error}</div>}\n      {!error && (\n        <>\n          {getLoading && (\n            <div className=\"loading-container\">\n              <div className=\"spinner-border loading\" role=\"status\">\n                <span className=\"sr-only\"></span>\n              </div>\n            </div>\n          )}\n          {!getLoading &&\n            g.map((value, index) => {\n              return (\n                <UseraAboutCard\n                  key={uniqid()}\n                  objkey={value}\n                  index={index}\n                  clickIndex={clickIndex}\n                  setClickIndex={setClickIndex}\n                  result={result}\n                  setResult={setResult}\n                  ee={ee}\n                  setee={setee}\n                  tooltip={tooltip}\n                  setTooltip={setTooltip}\n                  userid={userid}\n                  jwtData={jwtData}\n                />\n              );\n            })}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default UserAbout;\n","import React, { useContext, useRef, useState } from \"react\";\n\nimport uniqid from \"uniqid\";\nimport \"./CommentForm.css\";\nimport { OdinBookContext } from \"../Context\";\n\nconst CommentForm = ({\n  setComments,\n  postIndex,\n  route,\n  method,\n  updateValue,\n  comments,\n  pp,\n  setpp,\n}) => {\n  const { jwtData, axios_request } = useContext(OdinBookContext);\n\n  console.log(comments);\n  const valueRef = useRef();\n\n  const [errors, setErrors] = useState([]);\n  const [error, setError] = useState(\"\");\n\n  const post_comment = () => {\n    let element;\n    element = document.querySelector(`#post-${postIndex}`);\n\n    comments.comment_list.push({\n      comment: valueRef.current.value,\n      user: {\n        fname: jwtData.fname,\n        lname: jwtData.lname,\n        username: jwtData.user,\n        _id: jwtData.sub,\n      },\n    });\n\n    setComments(comments);\n\n    setpp(!pp);\n\n    console.log(postIndex);\n\n    if (element) {\n      const remove_empty = element.querySelector(`#post-${postIndex} .empty`);\n      if (remove_empty) {\n        remove_empty.style.display = \"none\";\n      }\n    }\n\n    // setNewCommentLoading(true);\n\n    console.log(element);\n\n    const cb_error = (err) => {\n      console.log(err);\n      if (err.response) {\n        console.log(err.response.data);\n        setErrors(err.response.data);\n      } else {\n        setError(err.message);\n      }\n    };\n    const cb_response = (response) => {\n      setErrors([]);\n    };\n\n    // console.log(valueRef.current.value);\n    axios_request({\n      route: route,\n      data: { comment: valueRef.current.value },\n      method: method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n\n    valueRef.current.value = \"\";\n  };\n\n  const display_errors = () => {\n    let arr = [];\n\n    if (!Array.isArray(errors)) {\n      arr.push(<li key={uniqid()}>{errors.msg}</li>);\n    } else {\n      for (let i = 0; i < errors.length; i++) {\n        arr.push(<li key={uniqid()}>{errors[i].msg}</li>);\n      }\n    }\n\n    return <ul className=\"errors\">{arr}</ul>;\n  };\n\n  console.log(valueRef);\n  return (\n    <div className=\"CommentForm\">\n      {error && <div className=\"error\">{error}</div>}\n      {!error && (\n        <>\n          <div className=\"profile-picture\">\n            {[jwtData.fname[0].toLowerCase()]}\n          </div>\n          <form\n            onSubmit={(e) => {\n              e.preventDefault();\n              console.log(valueRef);\n\n              if (valueRef.current.value == \"\") {\n                return;\n              } else {\n                console.log(valueRef.current.value);\n                post_comment();\n              }\n            }}\n            autoComplete=\"off\"\n          >\n            <input\n              type=\"text\"\n              name=\"comment\"\n              id=\"comment\"\n              placeholder=\"Write a comment...\"\n              ref={valueRef}\n            />\n          </form>\n          {display_errors()}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default CommentForm;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { OdinBookContext } from \"../Context\";\nimport \"./CommentDelete.css\";\n\nconst CommentDelete = ({\n  postid,\n  index,\n  setComments,\n  commentid,\n  commentDeleteClick,\n  setCommentDeleteClick,\n  comments,\n  // isChanged,\n  // setIsChanged,\n  setCommentOptionIndex,\n  pp,\n  setpp,\n}) => {\n  console.log(comments);\n\n  const { axios_request } = useContext(OdinBookContext);\n  const mypost_delete_route = `/post/${postid}/comment/${commentid}`;\n  const mypost_delete_method = \"DELETE\";\n\n  const [postLoading, setPostLoading] = useState(false);\n\n  const [error, setError] = useState(\"\");\n\n  const make_server_request = () => {\n    console.log(index);\n    comments[index] = comments.comment_list.splice(index, 1);\n    console.log(comments);\n    setComments(comments);\n    setpp(!pp);\n    setCommentOptionIndex(null);\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n      setPostLoading(false);\n    };\n\n    const cb_response = (response) => {\n      setPostLoading(false);\n      // setDeleteClick(false);\n    };\n\n    axios_request({\n      route: mypost_delete_route,\n      data: \"\",\n      method: mypost_delete_method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n\n    // setIsChanged(!isChanged);\n    // console.log(isChanged);\n  };\n\n  useEffect(() => {\n    make_server_request();\n  }, []);\n\n  console.log(comments);\n  // console.log(isChanged);\n  return (\n    <div className=\"CommentDelete\">\n      {error && (\n        <div className=\"error\">\n          <div>{error}</div>\n          <div>Please try refreshing the Page :(</div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CommentDelete;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport \"./CommentCard.css\";\nimport { Link, useLocation, useParams } from \"react-router-dom\";\nimport { OdinBookContext } from \"../Context\";\nimport CommentUpdate from \"../Comment/CommentUpdate\";\nimport CommentDelete from \"../Comment/CommentDelete\";\n\nconst CommentCard = ({\n  comment,\n  index,\n  postIndex,\n  path,\n  commentOptionIndex,\n  setCommentOptionIndex,\n  postid,\n  comments,\n  setComments,\n  pp,\n  setpp,\n}) => {\n  // console.log(comment);\n  // console.log(path);\n\n  const { jwtData } = useContext(OdinBookContext);\n\n  // const [isChanged, setIsChanged] = useState(false);\n\n  const location = useLocation();\n  let userid;\n  if (location.state) {\n    userid = location.state.userid;\n  }\n  // console.log(comment.user._id, jwtData.sub, path);\n  // console.log(isChanged);\n  // useEffect(() => {}, [isChanged]);\n  // console.log(commentOptionIndex);\n  const [commentUpdateClick, setCommentUpdateClick] = useState(false);\n  const [commentDeleteClick, setCommentDeleteClick] = useState(false);\n\n  return (\n    <div className=\"CommentCard\">\n      <div className=\"profile-picture\">\n        {[...comment.user.fname[0].toLowerCase()]}\n      </div>\n      <div className=\"comment-container\">\n        <div className=\"name\">\n          {((path == \"userpost\" && comment.user._id !== jwtData.sub) ||\n            path == \"newsfeed\") && (\n            <Link\n              to={{\n                pathname: `/user/${comment.user.username}/posts`,\n                state: {\n                  fname: comment.user.fname,\n                  lname: comment.user.lname,\n                  username: comment.user.username,\n                  userid: comment.user._id,\n                },\n              }}\n            >\n              <span>{comment.user.fname} </span>\n              <span>{comment.user.lname}</span>\n            </Link>\n          )}\n          {path === \"userpost\" && comment.user._id === jwtData.sub && (\n            <>\n              <span>{comment.user.fname} </span>\n              <span>{comment.user.lname}</span>\n            </>\n          )}\n        </div>\n        <div className=\"comment\">{comment.comment}</div>\n      </div>\n      <div\n        className=\"option-icon\"\n        onClick={(e) => {\n          e.preventDefault();\n          e.stopPropagation();\n\n          if (commentOptionIndex == index) {\n            setCommentOptionIndex(null);\n          } else {\n            setCommentOptionIndex(index);\n          }\n        }}\n      >\n        <div\n          style={{\n            backgroundColor: commentOptionIndex == index ? \"lightgray\" : \"\",\n          }}\n          className=\"btn fas fa-ellipsis-v\"\n        ></div>\n        {commentOptionIndex === index && (\n          <div className=\"comment-menu\">\n            {/* <div\n            onClick={(e) => {\n              e.stopPropagation();\n              e.preventDefault();\n              setCommentUpdateClick(!commentUpdateClick);\n            }}\n          >\n            Edit\n          </div> */}\n            <div\n              className=\"comment-btn delete-comment-btn\"\n              onClick={(e) => {\n                e.stopPropagation();\n                e.preventDefault();\n                setCommentDeleteClick(!commentDeleteClick);\n              }}\n            >\n              Delete\n            </div>\n          </div>\n        )}\n        {/* {commentUpdateClick && (\n        <CommentUpdate\n          postid={postid}\n          updateValue={comment.comment}\n          setComments={setComments}\n          commentid={comment._id}\n          commentUpdateClick={commentUpdateClick}\n          setCommentUpdateClick={setCommentUpdateClick}\n        />\n      )} */}\n        {commentDeleteClick && (\n          <CommentDelete\n            postid={postid}\n            index={index}\n            setComments={setComments}\n            comments={comments}\n            commentid={comment._id}\n            commentDeleteClick={commentDeleteClick}\n            setCommentDeleteClick={setCommentDeleteClick}\n            pp={pp}\n            setpp={setpp}\n            setCommentOptionIndex={setCommentOptionIndex}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CommentCard;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { OdinBookContext } from \"../Context\";\nimport \"./UserLikes.css\";\n\nconst UserLikesCard = ({\n  value,\n  index,\n  friendBtn,\n  setFriendBtn,\n  myFriends,\n  setMyFriends,\n}) => {\n  const [pp, setpp] = useState(false);\n  const { axios_request, jwtData } = useContext(OdinBookContext);\n  const [error, setError] = useState(\"\");\n\n  const clickHandler = () => {\n    const route = `/friend/${value._id}`;\n    const method = \"POST\";\n\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n    };\n\n    const cb_response = (response) => {\n      // console.log(response);\n    };\n\n    axios_request({\n      route: route,\n      data: \"\",\n      method: method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n\n    console.log(friendBtn[index]);\n    if (friendBtn[index] == false) {\n      const get_index = myFriends.findIndex(\n        (x) => x.username == value.username\n      );\n      if (get_index !== -1) {\n        console.log(get_index);\n        myFriends.splice(get_index, 1);\n        setMyFriends(myFriends);\n      }\n    } else {\n      myFriends.push(value);\n    }\n    console.log(myFriends);\n  };\n\n  console.log(value.username);\n  useEffect(() => {\n    const check = myFriends.findIndex((x) => x.username === value.username);\n    console.log(check);\n    if (check !== -1) {\n      friendBtn[index] = true;\n      setFriendBtn(friendBtn);\n    }\n    setpp(!pp);\n  }, []);\n\n  return (\n    <div className=\"UserLikesCard\">\n      {error && <div className=\"error\">{error}</div>}\n\n      {!error && (\n        <>\n          {\" \"}\n          <div className=\"profile-picture\">\n            {[...value.fname[0].toLowerCase()]}\n          </div>\n          <div className=\"name\">\n            <span>{value.fname}</span>\n            <span>{value.lname}</span>\n          </div>\n          {jwtData.sub !== value._id && (\n            <div\n              className=\"add-btn-container\"\n              onClick={() => {\n                friendBtn[index] = !friendBtn[index];\n                setFriendBtn(friendBtn);\n                setpp(!pp);\n                clickHandler();\n              }}\n              style={{\n                color: friendBtn[index] ? \"red\" : \"blue\",\n              }}\n            >\n              <div\n                className={\n                  friendBtn[index]\n                    ? \"add-btn fas fa-user-minus\"\n                    : \"add-btn fas fa-user-plus\"\n                }\n              ></div>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default UserLikesCard;\n","import axios from \"axios\";\nimport \"./UserLikes.css\";\nimport UserLikesCard from \"./UserLikesCard\";\nimport uniqid from \"uniqid\";\nimport { useParams } from \"react-router-dom\";\nimport { useContext, useState, useEffect } from \"react\";\nimport { OdinBookContext } from \"../Context\";\n\nconst UserLikes = ({ postid, setUsersLikedIndex, userid }) => {\n  const {\n    axios_request,\n    jwtData,\n    myFriendsValue,\n    didMyFriendsMountValue,\n  } = useContext(OdinBookContext);\n\n  //!the userid is of the guy who made the post\n\n  const [error, setError] = useState(\"\");\n  const [likeList, setLikeList] = useState([]);\n  const [myFriends, setMyFriends] = myFriendsValue;\n  const [didMyFriendsMount, setDidMyFriendsMount] = didMyFriendsMountValue;\n\n  const [friendBtn, setFriendBtn] = useState([]);\n\n  const location = useParams();\n  // const userid = location.state;\n  // console.log(userid);\n  console.log(location);\n  const params = useParams();\n  console.log(params);\n\n  const get_users_liked = () => {\n    const route = `/post/${postid}/like`;\n    const method = \"GET\";\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n    };\n\n    const cb_response = (response) => {\n      setLikeList(response.data.like);\n      console.log(myFriends);\n      const h = Array(response.data.like.length).fill(false);\n      setFriendBtn(h);\n    };\n\n    axios_request({\n      route: route,\n      method: method,\n      data: \"\",\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n  };\n\n  //we will fetch the logged in users friends list incase if the myfriends was not loaded\n  const get_myfriends = () => {\n    const route = `/friend/${jwtData.sub}`;\n    const method = \"GET\";\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n    };\n\n    const cb_response = (response) => {\n      setMyFriends(response.data);\n    };\n\n    axios_request({\n      route: route,\n      data: \"\",\n      method: method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n  };\n\n  useEffect(() => {\n    get_users_liked();\n\n    console.log(\"didmyfriendsmount=\", didMyFriendsMount);\n    if (didMyFriendsMount) {\n      get_myfriends();\n      setDidMyFriendsMount(false);\n    } else {\n      return;\n    }\n  }, []);\n\n  return (\n    <div className=\"UserLikes\">\n      {error && <div className=\"error\">{error}</div>}\n\n      {!error && (\n        <div className=\"box\">\n          <div className='form-close-btn fas fa-times-circle\"'>\n            <button\n              onClick={(e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                setUsersLikedIndex(null);\n              }}\n              className=\"fas fa-times-circle\"\n            ></button>\n          </div>\n          {likeList.map((value, index) => {\n            return (\n              <UserLikesCard\n                value={value}\n                index={index}\n                key={uniqid()}\n                friendBtn={friendBtn}\n                setFriendBtn={setFriendBtn}\n                myFriends={myFriends}\n                setMyFriends={setMyFriends}\n                userid={userid}\n              />\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UserLikes;\n","import React from \"react\";\nimport CommentForm from \"./CommentForm\";\n\nconst CommentCreate = ({\n  postid,\n  setComments,\n  postIndex,\n  // setNewCommentLoading,\n  comments,\n\n  pp,\n  setpp,\n}) => {\n  const route = `/post/${postid}/comment`;\n  const method = \"POST\";\n  return (\n    <div className=\"CommentCreate\">\n      <CommentForm\n        setComments={setComments}\n        postIndex={postIndex}\n        route={route}\n        method={method}\n        comments={comments}\n        pp={pp}\n        setpp={setpp}\n      />\n    </div>\n  );\n};\n\nexport default CommentCreate;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport CommentCard from \"../CommentCard/CommentCard\";\nimport uniqid from \"uniqid\";\nimport UserLikes from \"./UserLikes\";\nimport { OdinBookContext } from \"../Context\";\nimport { useLocation, Link } from \"react-router-dom\";\nimport CommentCreate from \"../Comment/CommentCreate\";\n\nconst UserPostCard = ({\n  value,\n  index,\n  setPostid,\n  setUpdateClick,\n  setUpdateData,\n  setUpdateIndex,\n  indexOfCardClicked,\n  setindexOfCardClicked,\n  isOwner,\n  setDeleteClick,\n  deleteClick,\n  likeLength,\n  setLikeLength,\n  setPostIndex,\n  likeClick,\n  setLikeClick,\n  postsLength,\n  // UserLikedIndex,\n  // setUsersLikedIndex,\n  path,\n}) => {\n  const [cardError, setCardError] = useState(\"\");\n  const [commentError, setCommentError] = useState(\"\");\n  const [comments, setComments] = useState([]);\n  const [commentIconClicked, setCommentIconClicked] = useState(false);\n  const [commentsLoading, setCommentsLoading] = useState(true);\n  // const [newCommentLoading, setNewCommentLoading] = useState(false);\n  const [onlyOneClick, setonlyOneClick] = useState(true);\n\n  const [commentOptionIndex, setCommentOptionIndex] = useState(null);\n  const { jwtData, axios_request } = useContext(OdinBookContext);\n\n  const [userLikedIndex, setUsersLikedIndex] = useState(null);\n\n  const location = useLocation();\n  let fname;\n  let lname;\n  let username;\n  let userid;\n  if (path == \"userpost\") {\n    fname = location.state.fname;\n    lname = location.state.lname;\n    username = location.state.username;\n    userid = location.state.userid;\n  }\n\n  const like_post = (postid) => {\n    const like_post_route = `/post/${postid}/like`;\n    const like_post_method = \"POST\";\n    const cb_error = (err) => {\n      if (err.response) {\n        setCardError(err.response.data);\n      } else {\n        setCardError(err.message);\n      }\n    };\n    const cb_response = (response) => {\n      console.log(response);\n    };\n\n    axios_request({\n      route: like_post_route,\n      data: \"\",\n      method: like_post_method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n  };\n\n  const get_comments = (postid) => {\n    const comments_route = `/post/${postid}/comment`;\n    const comments_method = \"GET\";\n\n    const cb_error = (err) => {\n      if (err.response) {\n        setCommentError(err.response.data);\n      } else {\n        setCommentError(err.mesage);\n      }\n      setCommentsLoading(false);\n    };\n    const cb_response = (response) => {\n      console.log(response.data);\n      setComments(response.data);\n      setCommentsLoading(false);\n    };\n\n    axios_request({\n      route: comments_route,\n      data: \"\",\n      method: comments_method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n  };\n\n  let g = value.like.includes(jwtData.sub);\n\n  const [pp, setpp] = useState(false);\n\n  console.log(comments);\n  useEffect(() => {\n    console.log(\"hello\");\n    if (likeLength.length < postsLength) {\n      likeClick.push(g);\n      setLikeClick(likeClick);\n      likeLength.push(value.like.length);\n      setLikeLength(likeLength);\n      // console.log(likeLength[index]);\n      setpp(!pp);\n    }\n    console.log(\n      \"likeClick.length=\",\n      likeClick.length,\n      \"likeLength=\",\n      likeLength.length,\n      \"postslength=\",\n      postsLength\n    );\n  }, []);\n  // console.log(comments);\n\n  useEffect(() => {\n    const element = document.querySelector(`#post-${index}`);\n\n    console.log(element);\n    if (element) {\n      console.log(element);\n      const height = element.scrollHeight;\n      console.log(height);\n      element.scrollTo(0, height);\n    }\n  }, [pp, commentIconClicked, commentsLoading]);\n\n  return (\n    <div className=\"UserPostCard\">\n      <div className=\"head\">\n        <div className=\"profile-picture\">\n          {fname\n            ? [...fname[0].toLowerCase()]\n            : [...value.user.fname[0].toLowerCase()]}\n        </div>\n        <div className=\"name-container\">\n          <div className=\"name\">\n            <Link\n              to={{\n                pathname: `/user/${value.user.username}/posts`,\n                state: {\n                  userid: value.user._id,\n                  fname: value.user.fname,\n                  lname: value.user.lname,\n                  username: value.user.username,\n                },\n              }}\n            >\n              <span>{fname ? fname : value.user.fname} </span>\n              <span>{lname ? lname : value.user.lname}</span>\n            </Link>\n          </div>\n\n          <div className=\"username\">\n            {username ? username : value.user.username}\n          </div>\n        </div>\n        {isOwner && (\n          <div\n            className=\"option-btn\"\n            onClick={(e) => {\n              // console.log(e.target);\n\n              e.preventDefault();\n              // console.log(indexOfCardClicked, index);\n              if (indexOfCardClicked == index) {\n                setindexOfCardClicked(null);\n              } else {\n                setindexOfCardClicked(index);\n              }\n              // console.log(indexOfCardClicked, index);\n            }}\n          >\n            <div\n              className=\"btn\"\n              style={{\n                backgroundColor: indexOfCardClicked == index ? \"darkgray\" : \"\",\n                borderRadius: \"4px\",\n              }}\n            >\n              &#8942;\n            </div>\n            {indexOfCardClicked == index && (\n              <div className=\"hamburger-menu\">\n                <div\n                  className=\"menu-btn edit-button-container\"\n                  onClick={(e) => {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    setindexOfCardClicked(null);\n                    setUpdateClick(true);\n                    setUpdateData(value);\n                    setPostid(value._id);\n                    setUpdateIndex(index);\n                  }}\n                >\n                  <div className=\"far fa-edit icon\"></div>\n                  <div className=\"label\">Edit post</div>\n                </div>\n                <div\n                  className=\"menu-btn delete-btn-container\"\n                  onClick={(e) => {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    setindexOfCardClicked(null);\n                    setDeleteClick(true);\n                    setPostid(value._id);\n                    setUpdateIndex(index);\n                  }}\n                >\n                  <div className=\"far fa-trash-alt icon\"></div>\n                  <div className=\"label\">Delete post</div>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n      <div className=\"post-content-container\">\n        <div className=\"post-title\">{value.title}</div>\n        <div className=\"post-content\">{value.content_text}</div>\n      </div>\n      {!cardError && <div className=\"error\">{cardError}</div>}\n      {cardError && (\n        <>\n          <div\n            className=\"no-like\"\n            onClick={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              setUsersLikedIndex(index);\n              // setpp(!pp);\n            }}\n          >\n            {/* <span>{likeLength[index]} </span> */}\n            <span>{likeLength[index]} </span>\n            <span> </span>\n            <span> {likeLength[index] == 1 ? \"like\" : \"likes\"}</span>\n          </div>\n          {userLikedIndex === index && (\n            <UserLikes\n              postid={value._id}\n              userid={value.user._id}\n              setUsersLikedIndex={setUsersLikedIndex}\n            />\n          )}\n        </>\n      )}\n      <div className=\"card-footer\">\n        <div\n          style={{\n            color: likeClick[index] ? \"blue\" : \"\",\n          }}\n          className=\"like-icon far fa-thumbs-up\"\n          onClick={(e) => {\n            e.preventDefault();\n            like_post(value._id);\n            console.log(likeClick[index]);\n            if (likeClick[index] == true) {\n              likeLength[index] = likeLength[index] - 1;\n              setLikeLength(likeLength);\n            } else {\n              likeLength[index] = likeLength[index] + 1;\n              setLikeLength(likeLength);\n            }\n            likeClick[index] = !likeClick[index];\n            setLikeClick(likeClick);\n            setpp(!pp);\n          }}\n        ></div>\n\n        <div\n          className=\"comment-icon far fa-comment-alt\"\n          onClick={(e) => {\n            e.preventDefault();\n            //get comments only once no need to fetch on every click.\n            if (onlyOneClick) {\n              get_comments(value._id);\n              setonlyOneClick(false);\n            }\n            setCommentIconClicked(!commentIconClicked);\n          }}\n        ></div>\n        <div className=\"share-icon far fa-share-square\"></div>\n      </div>\n      <div className=\"comment-list\" id={`post-${index}`}>\n        {commentIconClicked && commentError && (\n          <div className=\"error\">{commentError}</div>\n        )}\n        {commentIconClicked && !commentError && commentsLoading && \"loading...\"}\n        {commentIconClicked &&\n          !commentError &&\n          !commentsLoading &&\n          commentIconClicked &&\n          (comments.comment_list.length == 0 ? (\n            <div className=\"empty\">This post has no comments.</div>\n          ) : (\n            <>\n              <div className=\"no-comment\">\n                <span>{comments.comment_list.length} </span>\n                <span>\n                  {comments.comment_list.length == 1 ? \" comment\" : \" comments\"}\n                </span>\n              </div>\n              {comments.comment_list.map((comment, index) => (\n                <CommentCard\n                  comment={comment}\n                  key={uniqid()}\n                  index={index}\n                  postIndex={index}\n                  path={path}\n                  commentOptionIndex={commentOptionIndex}\n                  setCommentOptionIndex={setCommentOptionIndex}\n                  postid={value._id}\n                  comments={comments}\n                  setComments={setComments}\n                  pp={pp}\n                  setpp={setpp}\n                />\n              ))}\n            </>\n          ))}\n        {/* \n        <div>{newCommentLoading && \"loading...\"}</div> */}\n      </div>\n      {commentIconClicked && (\n        <CommentCreate\n          postid={value._id}\n          key={uniqid()}\n          setComments={setComments}\n          comments={comments}\n          postIndex={index}\n          pp={pp}\n          setpp={setpp}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default UserPostCard;\n","import React, { useContext } from \"react\";\nimport { OdinBookContext } from \"../Context\";\nimport \"./WelcomeMsg.css\";\n\nconst WelcomeMsg = () => {\n  const { jwtData } = useContext(OdinBookContext);\n  return (\n    <div className=\"WelcomeMsg\" id=\"welcome_msg_unique\">\n      <div className=\"container-msg\">\n        Welcome <span>{jwtData.fname} </span>\n        <span>{jwtData.lname} :)</span>\n      </div>\n    </div>\n  );\n};\n\nexport default WelcomeMsg;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { useLocation, useParams, useHistory } from \"react-router-dom\";\nimport { OdinBookContext } from \"../Context\";\nimport uniqid from \"uniqid\";\nimport MypostCreate from \"../MyPosts/MyPostCreate\";\nimport moment from \"moment\";\nimport \"./UserPost.css\";\nimport MyPostUpdate from \"../MyPosts/MyPostUpdate\";\nimport UserPostCard from \"./UserPostCard\";\nimport MyPostDelete from \"../MyPosts/MyPostDelete\";\nimport WelcomeMsg from \"../WelcomeMsg/WelcomeMsg\";\n\nconst UserPost = ({ path }) => {\n  // console.log(path);\n  const {\n    jwtData,\n    axios_request,\n    myPostsValue,\n    didMyPostsMountValue,\n    myNewsFeedValue,\n    didMyNewsFeedMountValue,\n    myFriendsValue,\n  } = useContext(OdinBookContext);\n  const [myPosts, setMyPosts] = myPostsValue;\n  const [myNewsfeed, setMyNewsFeed] = myNewsFeedValue;\n  const [didMyNewsFeedMount, setDidMyNewsFeedMount] = didMyNewsFeedMountValue;\n  const [didMyPostsMount, setDidMyPostsMount] = didMyPostsMountValue;\n\n  const [myFriends, setMyFriends] = myFriendsValue;\n\n  const [error, setError] = useState(\"\");\n  const [getLoading, setGetLoading] = useState(true);\n\n  const [isWelcomeMsgClick, setIsWelcomeMsgClick] = useState(false);\n  //herer result is the post list\n  const [result, setResult] = useState([]);\n\n  const [isOwner, setIsOwner] = useState(false);\n  const [updateClick, setUpdateClick] = useState(\"\");\n  const [createClick, setCreateClick] = useState(false);\n  const [deleteClick, setDeleteClick] = useState(false);\n  const [likeLength, setLikeLength] = useState([]);\n\n  // const [commentLength, setCommentLength] = useState([]);\n\n  //this is so we don't have to make request to the server to prefill the update form.\n  const [updateData, setUpdateData] = useState(\"\");\n\n  const [postid, setPostid] = useState(\"\");\n\n  const [updateIndex, setUpdateIndex] = useState(\"\");\n\n  const [indexOfCardClicked, setindexOfCardClicked] = useState(null);\n\n  const location = useLocation();\n\n  console.log(location);\n  const history = useHistory();\n  console.log(history);\n  //putting in an if-block since in news feed location.state will be undefined\n  let userid;\n  let fname;\n  let lname;\n  if (path == \"userpost\") {\n    userid = location.state.userid;\n    fname = location.state.fname;\n    lname = location.state.lname;\n  }\n\n  const params = useParams();\n  // console.log(\"params\", params);\n\n  const get_posts = () => {\n    let post_list_route;\n    if (path == \"userpost\") {\n      post_list_route = `/posts/${userid}`;\n    } else if (path === \"newsfeed\") {\n      post_list_route = \"/news-feed\";\n    }\n\n    const post_list_method = \"GET\";\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n\n      setGetLoading(false);\n    };\n    const cb_response = (response) => {\n      if (path == \"newsfeed\") {\n        setMyNewsFeed(response.data);\n      } else {\n        if (userid === jwtData.sub) {\n          setMyPosts(response.data);\n        }\n      }\n\n      setResult(response.data);\n      setGetLoading(false);\n    };\n\n    axios_request({\n      route: post_list_route,\n      data: \"\",\n      method: post_list_method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n  };\n\n  // console.log(path);\n  console.log(updateIndex);\n\n  useEffect(() => {\n    // console.log(userid);\n    if (path == \"userpost\") {\n      //herer if the url is news-feed , the userid will be undefined.\n      if (userid !== jwtData.sub) {\n        // console.log(userid, jwtData.sub);\n        get_posts();\n        setIsOwner(false);\n      } else {\n        if (didMyPostsMount) {\n          get_posts();\n          setIsOwner(true);\n          setDidMyPostsMount(false);\n        } else {\n          setResult(myPosts);\n          setGetLoading(false);\n          setIsOwner(true);\n        }\n      }\n    } else if (path == \"newsfeed\") {\n      if (didMyNewsFeedMount) {\n        get_posts();\n        setIsOwner(false);\n        setDidMyNewsFeedMount(false);\n        // console.log(didMyNewsFeedMount);\n      } else {\n        setResult(myNewsfeed);\n        setGetLoading(false);\n        setIsOwner(false);\n        // console.log(\"hello\");\n      }\n    }\n  }, [location.pathname]);\n\n  // useEffect(() => {\n  //   if (path === \"newsfeed\") {\n  //     get_posts();\n  //     setIsOwner(false);\n  //   }\n  // }, [myFriends]);\n\n  const post_create_response = (response) => {\n    // setNewPost([...result, response.data.save_post]);\n    // console.log(response.data.save_post);\n    // console.log(result);\n    console.log(\"response\", response);\n    setResult([response.data].concat(result));\n    setMyPosts([response.data].concat(myPosts));\n    console.log([response.data].concat(result));\n\n    // result.unshift(response.data);\n  };\n\n  const post_update_response = (response) => {\n    // console.log(response);\n    result[updateIndex] = response.data;\n    setResult(result);\n    myPosts[updateIndex] = response.data;\n    setMyPosts(myPosts);\n  };\n\n  //uding updateindex for update and delete same\n  const post_delete_repsonse = (response) => {\n    console.log(response);\n    //as soon as we get the response delete the post from the screen\n\n    console.log(result);\n    console.log(updateIndex);\n    result.splice(updateIndex, 1);\n    setResult(result);\n\n    myPosts.splice(updateIndex, 1);\n    setMyPosts(myPosts);\n\n    //we are doing this here bcoz jab tak child component mein value change nahi hota parent component re-render nahi hoga.\n    //MyPostDelete meinn setDelteClick mein same component mein hi deleteClick value change karna pad raha tha isliye UserPost re-render nahi ho raha tha.\n    //but postupdate and postcreate ka click-value child compoenent postform mein change ho raha tha isliye userpost re-render ho raha tha.\n    setDeleteClick(false);\n  };\n\n  // console.log(location.pathname);\n\n  const [likeClick, setLikeClick] = useState([]);\n  const [UserLikedIndex, setUsersLikedIndex] = useState(null);\n\n  // console.log(myPosts);\n  // console.log(path);\n  // console.log(location.pathname);\n\n  console.log(location);\n  // console.log(location.state.from);\n  console.log(path);\n\n  useEffect(() => {\n    if (location.state) {\n      if (\n        location.state.from === \"/login\" ||\n        location.state.from === \"/signup\"\n      ) {\n        const elemnt_welcome_msg = document.querySelector(\n          \"#welcome_msg_unique\"\n        );\n        if (elemnt_welcome_msg) {\n          elemnt_welcome_msg.addEventListener(\"click\", (e) => {\n            setIsWelcomeMsgClick(true);\n          });\n        }\n      }\n    }\n  }, []);\n  return (\n    <div className={path == \"userpost\" ? \"UserPost myaccount\" : \"UserPost\"}>\n      {error && <div className=\"error\">{error}</div>}\n      {!error && (\n        <>\n          {\" \"}\n          {/* doing path=='newsfeed' herer bcoz for a second it shows loading even if we are loading the data from state */}\n          {/* maybe we will show loading even for newsfeed for a second. */}\n          {/* {getLoading && path !== \"newsfeed\" && \"loading\"} */}\n          {!isWelcomeMsgClick &&\n            location.state &&\n            (location.state.from === \"/login\" ||\n              location.state.from === \"/signup\") &&\n            path === \"newsfeed\" && <WelcomeMsg />}\n          {getLoading && (\n            <div className=\"loading-container\">\n              <div className=\"spinner-border loading\" role=\"status\">\n                <span className=\"sr-only\"></span>\n              </div>\n            </div>\n          )}\n          {!getLoading && (\n            <>\n              {isOwner && (\n                <div>\n                  <MypostCreate\n                    user_post_response={post_create_response}\n                    createClick={createClick}\n                    setCreateClick={setCreateClick}\n                  />\n                </div>\n              )}\n              {updateClick && (\n                <div>\n                  <MyPostUpdate\n                    postid={postid}\n                    updateClick={updateClick}\n                    setUpdateClick={setUpdateClick}\n                    updateData={updateData}\n                    // createClick={createClick}\n                    // setCreateClick={setCreateClick}\n                    user_post_response={post_update_response}\n                  />\n                </div>\n              )}\n              {deleteClick && (\n                <MyPostDelete\n                  setDeleteClick={setDeleteClick}\n                  deleteClick={deleteClick}\n                  user_delete_response={post_delete_repsonse}\n                  postid={postid}\n                />\n              )}\n              {result.length == 0 ? (\n                <div className=\"empty-posts\">\n                  {path == \"newsfeed\" &&\n                    \"Please add friends to see their posts here :)\"}\n                  {isOwner &&\n                    path !== \"newsfeed\" &&\n                    \"Create new posts to see them here\"}\n                  {!isOwner && path !== \"newsfeed\" && (\n                    <>\n                      <span>\n                        {fname} {lname} doesn't have any posts to show :(\n                      </span>\n                    </>\n                  )}\n                </div>\n              ) : (\n                result.map((value, index) => {\n                  return (\n                    <UserPostCard\n                      key={uniqid()}\n                      value={value}\n                      index={index}\n                      setPostid={setPostid}\n                      setUpdateClick={setUpdateClick}\n                      setUpdateData={setUpdateData}\n                      setUpdateIndex={setUpdateIndex}\n                      indexOfCardClicked={indexOfCardClicked}\n                      setindexOfCardClicked={setindexOfCardClicked}\n                      isOwner={isOwner}\n                      setDeleteClick={setDeleteClick}\n                      deleteClick={deleteClick}\n                      likeLength={likeLength}\n                      setLikeLength={setLikeLength}\n                      likeClick={likeClick}\n                      setLikeClick={setLikeClick}\n                      postsLength={result.length}\n                      UserLikedIndex={UserLikedIndex}\n                      setUsersLikedIndex={setUsersLikedIndex}\n                      path={path}\n                    />\n                  );\n                })\n              )}\n            </>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default UserPost;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Link, useHistory, useLocation, useParams } from \"react-router-dom\";\nimport { OdinBookContext } from \"../Context\";\n\nconst UserFriendCard = ({\n  value,\n  index,\n  friendBtn,\n  setFriendBtn,\n  userid,\n  isChanged,\n  setIsChanged,\n  path,\n}) => {\n  // const params = useParams();\n  // console.log(\"params\", params);\n  // const history = useHistory();\n  // console.log(\"histroy\", history);\n  console.log(friendBtn[index]);\n\n  const [myFriendsIndex, setMyFriendsIndex] = useState(null);\n  const [error, setError] = useState(\"\");\n\n  const { jwtData, myFriendsValue, axios_request } = useContext(\n    OdinBookContext\n  );\n\n  const [myFriends, setMyFriends] = myFriendsValue;\n  console.log(\"hello\");\n  //removes friend\n  const clickHandler = () => {\n    // if i don't do this it show 'cannot update state after the component is unmounted'\n    //becoz you are not waiting for the response and directly deleting the user from the sreen\n    // if (personid.toString() !== userid.toString()) {\n    //   setBtnLoading(true);\n    //   setIsClicked(!isClicked);\n    // }\n\n    const route = `/friend/${value._id}`;\n    const method = \"POST\";\n\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n    };\n\n    const cb_response = (response) => {\n      // console.log(response);\n    };\n\n    axios_request({\n      route: route,\n      data: \"\",\n      method: method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n\n    // only do this for the owner,,, bcoz it deletes the user from the screen\n    if (jwtData.sub == userid || path == \"myfriends\") {\n      myFriends.splice(index, 1);\n      setMyFriends(myFriends);\n      setIsChanged(!isChanged);\n    }\n\n    if (jwtData.sub !== userid) {\n      // console.log(myFriendsIndex);\n\n      console.log(friendBtn[index]);\n      if (friendBtn[index] == false) {\n        const get_index = myFriends.findIndex(\n          (x) => x.username == value.username\n        );\n        if (get_index !== -1) {\n          console.log(get_index);\n          myFriends.splice(get_index, 1);\n          setMyFriends(myFriends);\n        }\n      } else {\n        myFriends.push(value);\n      }\n      console.log(myFriends);\n    }\n  };\n\n  const [pp, setpp] = useState(false);\n\n  useEffect(() => {\n    const check = myFriends.findIndex((x) => x.username === value.username);\n    console.log(check);\n    if (check !== -1) {\n      friendBtn[index] = true;\n      setFriendBtn(friendBtn);\n      // setMyFriendsIndex(check);\n    }\n    setpp(!pp);\n  }, []);\n\n  console.log(friendBtn[index]);\n\n  // console.log(path);\n  return (\n    <div className=\"UserFriendCard\">\n      {\" \"}\n      <div className=\"profile-picture\">{[...value.fname[0].toLowerCase()]}</div>\n      <div className=\"name-container\">\n        <Link\n          to={{\n            pathname: `/user/${value.username}/posts`,\n            state: {\n              userid: value._id,\n              fname: value.fname,\n              lname: value.lname,\n              username: value.username,\n            },\n          }}\n        >\n          <div className=\"name\">\n            <span>{value.fname} </span>\n            <span>{value.lname}</span>\n          </div>\n        </Link>\n        <div className=\"username\">{value.username}</div>\n      </div>\n      {jwtData.sub !== value._id && (\n        <div\n          className=\"add-btn\"\n          style={{\n            color:\n              path == \"myfriends\"\n                ? \"red\"\n                : jwtData.sub === userid\n                ? \"red\"\n                : friendBtn[index]\n                ? \"red\"\n                : \"blue\",\n          }}\n          onClick={() => {\n            friendBtn[index] = !friendBtn[index];\n            setFriendBtn(friendBtn);\n            setpp(!pp);\n\n            clickHandler();\n          }}\n        >\n          {(jwtData.sub == userid || path === \"myfriends\") && (\n            <div className=\"add-btn fas fa-user-minus\"></div>\n          )}\n          {jwtData.sub !== userid && path !== \"myfriends\" && (\n            <div\n              // style={{ color: \"blue\" }}\n              className={\n                friendBtn[index]\n                  ? \"add-btn fas fa-user-minus\"\n                  : \"add-btn fas fa-user-plus\"\n              }\n            ></div>\n          )}\n        </div>\n      )}\n      {/* value._id woh idividual friend ka id hain and userid jiska profile visit kar rahe hain uska id hain */}\n      {jwtData.sub !== value._id && (\n        <div className=\"chat-link-container\">\n          <Link\n            to={{\n              pathname: \"/chat\",\n              state: {\n                userid: value._id,\n                fname: value.fname,\n                lname: value.lname,\n                username: value.username,\n              },\n            }}\n          >\n            <div className=\"chat-btn fab fa-facebook-messenger\"></div>\n          </Link>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UserFriendCard;\n","import axios from \"axios\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useLocation, Link, useParams, useHistory } from \"react-router-dom\";\nimport { OdinBookContext } from \"../Context\";\nimport uniqid from \"uniqid\";\nimport \"./UserFriend.css\";\nimport UserFriendCard from \"./UserFriendCard\";\nimport async from \"async\";\n\nconst UserFriend = ({ path }) => {\n  const [error, setError] = useState(\"\");\n  const [getLoading, setGetLoading] = useState(true);\n  const [result, setResult] = useState([]);\n\n  const [friendBtn, setFriendBtn] = useState([]);\n\n  const [isChanged, setIsChanged] = useState(false);\n  const { myFriendsValue, didMyFriendsMountValue, axios_request } = useContext(\n    OdinBookContext\n  );\n\n  const [didMyFriendsMount, setDidMyFriendsMount] = didMyFriendsMountValue;\n\n  const [myFriends, setMyFriends] = myFriendsValue;\n  const location = useLocation();\n  let userid;\n  let username;\n  let fname;\n  let lname;\n  //since there will be no location.state for myfriends route.\n  if (path != \"myfriends\") {\n    userid = location.state.userid;\n    fname = location.state.fname;\n    lname = location.state.lname;\n  }\n\n  // const params = useParams();\n  // console.log(\"params\", params);\n  // const history = useHistory();\n  // console.log(\"histroy\", history);\n\n  // console.log(path);\n  const make_server_request = () => {\n    let friend_list_route;\n    if (path == \"myfriends\") {\n      friend_list_route = `/friend/${jwtData.sub}`;\n      console.log(path);\n    } else {\n      friend_list_route = `/friend/${userid}`;\n      console.log(userid);\n    }\n    const friend_list_method = \"GET\";\n\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n      setGetLoading(false);\n    };\n\n    const cb_response = (response) => {\n      if (path == \"myfriends\") {\n        setMyFriends(response.data);\n      } else {\n        if (userid == jwtData.sub) {\n          setMyFriends(response.data);\n        } else {\n          const h = Array(response.data.length).fill(false);\n          setFriendBtn(h);\n        }\n      }\n      setResult(response.data);\n      setGetLoading(false);\n    };\n\n    axios_request({\n      route: friend_list_route,\n      data: \"\",\n      method: friend_list_method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n  };\n  const { jwtData } = useContext(OdinBookContext);\n\n  useEffect(() => {\n    if (path == \"myfriends\") {\n      if (didMyFriendsMount) {\n        make_server_request();\n        setDidMyFriendsMount(false);\n      } else {\n        setResult(myFriends);\n        setGetLoading(false);\n      }\n    } else {\n      if (jwtData.sub !== userid) {\n        make_server_request();\n      } else {\n        if (didMyFriendsMount) {\n          make_server_request();\n          setDidMyFriendsMount(false);\n        } else {\n          setResult(myFriends);\n          setGetLoading(false);\n        }\n      }\n    }\n\n    // get_my_friend_list();\n  }, [location.pathname]);\n\n  // console.log(myFriendList);\n  // console.log(result);\n  console.log(path);\n  return (\n    <div\n      className={path === \"myfriends\" ? \"UserFriend\" : \"UserFriend myaccount\"}\n    >\n      {error && <div className=\"error\">{error}</div>}\n      {!error && (\n        <>\n          {getLoading && (\n            <div className=\"loading-container\">\n              <div className=\"spinner-border loading\" role=\"status\">\n                <span className=\"sr-only\"></span>\n              </div>\n            </div>\n          )}\n          {!getLoading &&\n            (result.length === 0 ? (\n              <div className=\"empty-friends\">\n                {path !== \"myfriends\" && jwtData.sub !== userid && (\n                  <div>\n                    <span>{fname} </span> <span>{lname} </span>\n                    <span>has no friends on OdinBook :(</span>\n                  </div>\n                )}\n                {(path === \"myfriends\" || jwtData.sub === userid) && (\n                  <div>\n                    <div>You don't have any friends to show.</div>\n                    <div>You can add them by searching their name :)</div>\n                    <div>\n                      To search with username, please prefix with '@' :)\n                    </div>\n                  </div>\n                )}\n              </div>\n            ) : (\n              result.map((value, index) => {\n                return (\n                  <UserFriendCard\n                    value={value}\n                    index={index}\n                    setError={setError}\n                    key={uniqid()}\n                    friendBtn={friendBtn}\n                    setFriendBtn={setFriendBtn}\n                    userid={userid}\n                    isChanged={isChanged}\n                    setIsChanged={setIsChanged}\n                    path={path}\n                  />\n                );\n              })\n            ))}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default UserFriend;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { OdinBookContext } from \"../Context\";\nimport \"./UserDetail.css\";\n\nconst UserDetailFriendBtn = () => {\n  const {\n    axios_request,\n    jwtData,\n    myFriendsValue,\n    didMyFriendsMountValue,\n  } = useContext(OdinBookContext);\n\n  const [error, setError] = useState(\"\");\n  const [myFriends, setMyFriends] = myFriendsValue;\n  const [didMyFriendsMount, setDidMyFriendsMount] = didMyFriendsMountValue;\n  const [pp, setpp] = useState(false);\n\n  const [friendBtn, setFriendBtn] = useState(false);\n\n  const location = useLocation();\n  let userid;\n  let username;\n  let fname;\n  let lname;\n  if (location.state) {\n    userid = location.state.userid;\n    fname = location.state.fname;\n    lname = location.state.lname;\n    username = location.state.username;\n  }\n\n  console.log(username);\n\n  //we will fetch the logged in users friends list incase if the myfriends was not loaded\n  const get_myfriends = () => {\n    const route = `/friend/${jwtData.sub}`;\n    const method = \"GET\";\n    const cb_err = (err) => {};\n\n    const cb_response = (response) => {\n      setMyFriends(response.data);\n    };\n\n    axios_request({\n      route: route,\n      data: \"\",\n      method: method,\n      axios_error: cb_err,\n      axios_response: cb_response,\n    });\n  };\n\n  useEffect(() => {\n    console.log(\"didmyfriendsmount=\", didMyFriendsMount);\n    if (didMyFriendsMount) {\n      get_myfriends();\n      setDidMyFriendsMount(false);\n    } else {\n      return;\n    }\n  }, []);\n\n  useEffect(() => {\n    console.log(myFriends);\n    const check = myFriends.findIndex((x) => {\n      console.log(x.username, username);\n      return x.username === username;\n    });\n    console.log(check);\n    // console.log(friendBtn);\n    if (check !== -1) {\n      setFriendBtn(true);\n    } else {\n      setFriendBtn(false);\n    }\n    setpp(!pp);\n  }, [myFriends]);\n\n  console.log(friendBtn);\n\n  const clickHandler = () => {\n    const route = `/friend/${userid}`;\n    const method = \"POST\";\n\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n    };\n\n    const cb_response = (response) => {\n      // console.log(response);\n    };\n\n    axios_request({\n      route: route,\n      data: \"\",\n      method: method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n\n    console.log(friendBtn);\n    if (friendBtn == true) {\n      const get_index = myFriends.findIndex((x) => x.username == username);\n\n      console.log(get_index);\n      if (get_index !== -1) {\n        console.log(get_index);\n        myFriends.splice(get_index, 1);\n        setMyFriends(myFriends);\n      }\n    } else {\n      myFriends.push({\n        _id: userid,\n        username: username,\n        fname: fname,\n        lname: lname,\n      });\n    }\n\n    setpp(!pp);\n  };\n\n  return (\n    <div className=\"UserDetailFriendBtn\">\n      {error && <div className=\"error\">{error}</div>}\n      {!error && (\n        <div\n          style={{ color: friendBtn ? \"red\" : \"blue\" }}\n          className={\n            friendBtn ? \"add-btn fas fa-user-minus\" : \"add-btn fas fa-user-plus\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n            console.log(friendBtn);\n            setFriendBtn(!friendBtn);\n            console.log(friendBtn);\n            setpp(!pp);\n            clickHandler();\n          }}\n        ></div>\n      )}\n    </div>\n  );\n};\n\nexport default UserDetailFriendBtn;\n","import React, { useContext } from \"react\";\nimport UserNav from \"./UserNav\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  useParams,\n  useLocation,\n  useHistory,\n  Link,\n} from \"react-router-dom\";\nimport UserAbout from \"./UserAbout\";\nimport UserPost from \"./UserPost\";\nimport UserFriend from \"./UserFriend\";\nimport \"./UserDetail.css\";\nimport { OdinBookContext } from \"../Context\";\nimport UserDetailFriendBtn from \"./UserDetailFriendBtn\";\n\nconst UserDetail = () => {\n  const location = useLocation();\n  let params = useParams();\n  console.log(params);\n  console.log(location.state);\n  const history = useHistory();\n  console.log(history);\n\n  const { jwtData } = useContext(OdinBookContext);\n\n  let userid;\n  let fname;\n  let lname;\n  let username;\n  if (location.state.userid) {\n    fname = location.state.fname;\n    lname = location.state.lname;\n    username = location.state.username;\n    userid = location.state.userid;\n  }\n\n  return (\n    <div className=\"UserDetail\">\n      <div className=\"user-banner-container\">\n        <div className=\"user-banner\">\n          {params.username}\n          <div className=\"banner-btn\">\n            {userid && userid !== jwtData.sub && (\n              <div className=\"chat-link-container\">\n                <Link\n                  to={{\n                    pathname: \"/chat\",\n                    state: {\n                      userid: userid,\n                      fname: fname,\n                      lname: lname,\n                      username: username,\n                    },\n                  }}\n                >\n                  <div className=\"chat-btn fab fa-facebook-messenger\"></div>\n                </Link>\n              </div>\n            )}\n            {userid && userid !== jwtData.sub && <UserDetailFriendBtn />}\n          </div>\n        </div>\n\n        <div className=\"name-container\">\n          <div className=\"name\">\n            <span>{location.state.fname} </span>\n            <span> {location.state.lname}</span>\n          </div>\n        </div>\n      </div>\n      <div className=\"UserNav\">\n        <UserNav\n          to={`/user/${params.username}/posts`}\n          fname={location.state.fname}\n          lname={location.state.lname}\n          userid={location.state.userid}\n          username={location.state.username}\n          label=\"Posts\"\n        />\n        <UserNav\n          to={`/user/${params.username}/about`}\n          fname={location.state.fname}\n          lname={location.state.lname}\n          userid={location.state.userid}\n          username={location.state.username}\n          label=\"About\"\n        />\n        <UserNav\n          to={`/user/${params.username}/friends`}\n          fname={location.state.fname}\n          lname={location.state.lname}\n          userid={location.state.userid}\n          username={location.state.username}\n          label=\"Friends\"\n        />\n      </div>\n      <Switch>\n        <Route path={`/user/${params.username}/posts`}>\n          <UserPost path=\"userpost\" />\n        </Route>\n        <Route path={`/user/${params.username}/about`}>\n          <UserAbout />\n        </Route>\n        <Route path={`/user/${params.username}/friends`}>\n          <UserFriend />\n        </Route>\n      </Switch>\n    </div>\n  );\n};\n\nexport default UserDetail;\n","import React, { useCallback, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { OdinBookContext } from \"../Context\";\nimport \"./Hamburger.css\";\n\nconst Hamburger = () => {\n  const { jwtData } = useContext(OdinBookContext);\n  console.log(jwtData);\n\n  console.log(jwtData);\n\n  return (\n    <div className=\"Hamburger\">\n      <div className=\"box-1 box\">\n        <Link\n          to={{\n            pathname: `/user/${jwtData.user}/posts`,\n            state: {\n              fname: jwtData.fname,\n              lname: jwtData.lname,\n              username: jwtData.user,\n              userid: jwtData.sub,\n            },\n          }}\n        >\n          <div className=\"profile-picture\">\n            {[...jwtData.fname[0].toLowerCase()]}\n          </div>\n          <div className=\"nav-link-container\">\n            <div className=\"user label\">{jwtData.user}</div>\n\n            <div className=\"nav-link-desc label\">See your profile</div>\n          </div>\n        </Link>\n      </div>\n\n      <div className=\"box-2 box\">\n        <Link to=\"/logout\">\n          <div className=\"label\">Logout</div>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Hamburger;\n","import React, { useEffect } from \"react\";\nimport \"./ChatMap.css\";\n\nconst ChatMap = ({ value, index }) => {\n  let d;\n  let yearstr;\n  let splityear;\n  if (value.createdAt !== \"\") {\n    d = new Date(value.createdAt);\n\n    // console.log(d.getFullYear());\n    yearstr = d.getFullYear().toString();\n    splityear = [...yearstr];\n  }\n\n  return (\n    <div className=\"ChatMap\">\n      {value.message !== \"\" && (\n        <div className={value.isOwner == true ? \"me\" : \"person\"}>\n          <div\n            className={value.isOwner == true ? \"curve-right\" : \"curve-left\"}\n          ></div>\n\n          <div className={value.isOwner == true ? \"right\" : \"left\"}>\n            <div className=\"message\">{value.message}</div>\n            <div className=\"date-container\">\n              <div className=\"date\">\n                <span>{d.getDate()}/</span>\n                <span>{d.getMonth() + 1}/</span>\n                <span>{splityear[2]}</span>\n                <span>{splityear[3]}</span>\n              </div>\n              <div className=\"time\">\n                <span>\n                  {d.getHours() > 12\n                    ? d.getHours() - 12\n                    : d.getHours() === 0\n                    ? 12\n                    : d.getHours()}\n                  :\n                </span>\n                <span>\n                  {d.getMinutes() < 10 ? \"0\" + d.getMinutes() : d.getMinutes()}\n                </span>\n                <span>{d.getHours() > 12 ? \"pm\" : \"am\"}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ChatMap;\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport { OdinBookContext } from \"../Context\";\nimport ChatMap from \"./ChatMap\";\nimport uniqid from \"uniqid\";\nimport axios from \"axios\";\n\nconst ChatCard = ({\n  fname,\n  lname,\n  userid,\n  username,\n  // myMsg,\n  // setMyMsg,\n  // response,\n  // setResponse,\n  msgArr,\n  setMsgArr,\n  // responseLoading,\n  // mymsgloading,\n}) => {\n  console.log(\"chatcard\");\n\n  const valueRef = useRef();\n\n  const [error, setError] = useState(\"\");\n\n  const { jwtData, socket, axios_request, myChatListValue } = useContext(\n    OdinBookContext\n  );\n\n  const [myChatList, setMyChatList] = myChatListValue;\n\n  console.log(msgArr);\n  const submitHandler = () => {\n    // e.preventDefault();\n\n    // const date = Date.now();\n\n    // setMyMsg([...myMsg, { msg: state, date: date }]);\n\n    // setSubmitMsg({ message: state, createdAt: new Date().toISOString() });\n\n    setMsgArr([\n      ...msgArr,\n      {\n        message: valueRef.current.value,\n        createdAt: new Date().toISOString(),\n        isOwner: true,\n      },\n    ]);\n\n    socket.emit(\"send_message\", {\n      to: username,\n      from: {\n        fname: jwtData.fname,\n        lname: jwtData.lname,\n        username: jwtData.user,\n        userid: jwtData.sub,\n      },\n      message: valueRef.current.value,\n      createdAt: new Date().toISOString(),\n    });\n\n    const check = myChatList.findIndex((x) => x.user._id === userid);\n    if (check !== -1) {\n      myChatList[check].last_msg = new Date().toISOString();\n    } else {\n      myChatList.push({\n        last_msg: new Date().toISOString(),\n        user: {\n          fname: fname,\n          lname: lname,\n          username: username,\n          _id: userid,\n        },\n      });\n    }\n    const sort_arr = myChatList.sort((a, b) =>\n      b.last_msg < a.last_msg ? -1 : b.last_msg > a.last_msg ? 1 : 0\n    );\n\n    setMyChatList(sort_arr);\n\n    valueRef.current.value = \"\";\n  };\n\n  const save_messages_on_database = (msg) => {\n    const route = `/chat/${userid}`;\n    const method = \"PUT\";\n\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n    };\n\n    console.log(\"msg=\", msg);\n    const cb_response = (response) => {\n      console.log(userid);\n      console.log(response);\n    };\n\n    axios_request({\n      route: route,\n      data: msg,\n      method: method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n  };\n\n  //!we are doing save_received and save_sent from the user who sent message and not by socket.io because if the other user is not online then he wont be able to make updates on his sent_received object.\n  //arvind to komal msg sent\n  //save my name in komal's (people from who I received message)\n  const save_received = () => {\n    const route = `/mychat/${jwtData.sub}/${userid}`;\n    const method = \"PUT\";\n\n    console.log(\"hello\");\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n    };\n\n    const cb_response = (response) => {};\n\n    axios_request({\n      route: route,\n      data: { last_msg: new Date().toISOString() },\n      method: method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n  };\n\n  //save Komal's name in my sent list.\n  //if she already in received then we don't need this function\n  //we can find this out with if the messages from both are not null\n  //we will not call this request if the length of messages<=2;\n  //we will call this only once because we need to delete the name from the list\n  const save_sent = () => {\n    const route = `/mychat/${userid}/${jwtData.sub}`;\n    const method = \"PUT\";\n\n    console.log(\"hello\");\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n    };\n\n    const cb_response = (response) => {};\n\n    axios_request({\n      route: route,\n      data: { last_msg: new Date().toISOString() },\n      method: method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n\n    console.log(userid);\n  };\n\n  const save_isread_false = () => {\n    const route = `/isreadfalse/${userid}`;\n    const method = \"PUT\";\n\n    console.log(\"hello\");\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n    };\n\n    const cb_response = (response) => {};\n\n    axios_request({\n      route: route,\n      data: \"\",\n      method: method,\n      axios_response: cb_response,\n      axios_error: cb_error,\n    });\n  };\n  console.log(valueRef);\n  return (\n    <div className=\"ChatCard\">\n      {error && <div className=\"error\">{error}</div>}\n      {!error && (\n        <>\n          <div className=\"head-top\">\n            <div className=\"profile-picture\">{[...fname][0].toLowerCase()}</div>\n            <div className=\"name\">\n              <span>{fname} </span>\n              <span>{lname}</span>\n            </div>\n          </div>\n          <form>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                // onChange={changeHandler}\n                ref={valueRef}\n                name=\"msg\"\n                id=\"msg\"\n              />\n\n              <div className=\"send-btn\">\n                <button\n                  onClick={(e) => {\n                    e.preventDefault();\n                    if (valueRef.current.value === \"\") {\n                      return;\n                    } else {\n                      save_isread_false();\n                      save_received();\n                      save_sent();\n                      save_messages_on_database({\n                        message: valueRef.current.value,\n                        createdAt: new Date().toISOString(),\n                      });\n                      submitHandler();\n                    }\n                  }}\n                >\n                  Send\n                </button>\n              </div>\n            </div>\n          </form>\n\n          <div className=\"chat-map-container\">\n            {msgArr.map((value, index) => {\n              return <ChatMap value={value} index={index} key={uniqid()} />;\n            })}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ChatCard;\n","import axios from \"axios\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport socketIOClient, { io } from \"socket.io-client\";\nimport { OdinBookContext } from \"../Context\";\nimport \"./Chat.css\";\nimport ChatCard from \"./ChatCard\";\n\nconst Chat = () => {\n  const location = useLocation();\n\n  const [error, setError] = useState(\"\");\n\n  const { axios_request, jwtData, socket, isReadValue } = useContext(\n    OdinBookContext\n  );\n\n  //this detail are of the person on whose chat btn we clicked\n  const fname = location.state.fname;\n  const lname = location.state.lname;\n  const userid = location.state.userid;\n  const username = location.state.username;\n\n  console.log(userid);\n\n  const [tempResponse, setTempResponse] = useState([]);\n  const [response, setResponse] = useState([]);\n  const [msgArr, setMsgArr] = useState([]);\n\n  const [mymsgloading, setmsgloading] = useState(true);\n  const [responseloading, setresponseloading] = useState(true);\n\n  const [myMsg, setMyMsg] = useState([]);\n\n  const [isRead, setIsRead] = isReadValue;\n\n  useEffect(() => {\n    socket.on(\"new_msg\", (data) => {\n      console.log(data);\n\n      setTempResponse([\n        ...tempResponse,\n        { message: data.message, createdAt: data.createdAt },\n      ]);\n    });\n  }, [socket]);\n\n  console.log(msgArr);\n  useEffect(() => {\n    if (tempResponse.length !== 0) {\n      setMsgArr([...msgArr, ...tempResponse]);\n    }\n  }, [tempResponse]);\n\n  console.log(msgArr, \"48 msgArr\");\n  useEffect(() => {\n    const h = async () => {\n      await Promise.all([get_responses(), get_my_messages()]);\n    };\n    h();\n    // get_responses();\n    // get_my_messages();\n\n    save_isreadtrue();\n  }, []);\n\n  // get the messages I sent to Komal\n  const get_responses = () => {\n    // sender = jwtData.sub\n    console.log(\"get responses\");\n    const route = `/chat/${userid}/${jwtData.sub}`;\n    const method = \"GET\";\n\n    const cb_response = (response) => {\n      console.log(response);\n      if (response.data.length !== 0) {\n        let newArr = response.data.message_container.map((v) => ({\n          ...v,\n          isOwner: true,\n        }));\n        setResponse(newArr);\n      } else {\n        //it might happen that there are no sent messages.\n        setResponse([{ message: \"\", createdAt: \"\" }]);\n      }\n      console.log(response, \"get responses\");\n\n      setresponseloading(false);\n    };\n\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n    };\n\n    axios_request({\n      route: route,\n      data: \"\",\n      method: method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n  };\n\n  // the messages Komal sent to me\n  const get_my_messages = () => {\n    console.log(\"my messages\");\n    const route = `/chat/${jwtData.sub}/${userid}`;\n    const method = \"GET\";\n\n    const cb_response = (response) => {\n      console.log(response, \"get my messages\");\n      if (response.data.length !== 0) {\n        setMyMsg(response.data.message_container);\n      } else {\n        //it might happen that there are no response msgs and only ond side messages.\n        setMyMsg([{ message: \"\", createdAt: \"\" }]);\n      }\n      setmsgloading(false);\n    };\n\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n    };\n\n    axios_request({\n      route: route,\n      data: \"\",\n      method: method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n  };\n\n  useEffect(() => {\n    if (!mymsgloading && !responseloading) {\n      let arr = [...response, ...myMsg];\n      console.log(arr);\n\n      let sorted = arr.sort((a, b) => {\n        // console.log(a, b);\n        return a.createdAt < b.createdAt\n          ? -1\n          : a.createdAt > b.createdAt\n          ? 1\n          : 0;\n      });\n      console.log(sorted);\n\n      setMsgArr(sorted);\n    }\n  }, [mymsgloading, responseloading]);\n\n  const save_isreadtrue = () => {\n    const route = `/isreadtrue/${userid}`;\n    const method = \"PUT\";\n    const cb_error = (err) => {\n      if (error.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n    };\n\n    const cb_response = (response) => {};\n\n    axios_request({\n      route: route,\n      data: \"\",\n      method: method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n\n    if (isRead.length > 0) {\n      const is_read_index = isRead.findIndex((x) => x.user === userid);\n      if (is_read_index !== -1) {\n        isRead[is_read_index].isread = [];\n        isRead[is_read_index].isread.push(true);\n        setIsRead(isRead);\n      }\n    }\n    //else will be... there are no messages to set to read=true\n  };\n\n  useEffect(() => {\n    const element = document.querySelector(\".Chat\");\n    console.log(element);\n    const height = element.scrollHeight;\n    console.log(height);\n    element.scrollTo(0, height);\n  }, [msgArr]);\n\n  console.log(mymsgloading, responseloading);\n  console.log(msgArr);\n  return (\n    <div className=\"Chat\">\n      {error && <div className=\"error\">{error}</div>}\n      {!error && (\n        <>\n          {mymsgloading && responseloading && (\n            <div className=\"loading-container\">\n              <div className=\"spinner-border loading\" role=\"status\">\n                <span className=\"sr-only\"></span>\n              </div>\n            </div>\n          )}\n          {!mymsgloading && !responseloading && (\n            <ChatCard\n              fname={fname}\n              lname={lname}\n              userid={userid}\n              username={username}\n              msgArr={msgArr}\n              setMsgArr={setMsgArr}\n              responseloading={responseloading}\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Chat;\n","import { min } from \"moment\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst ChatListCard = ({ value, index, isRead }) => {\n  let no_unread_msgs;\n  for (let i = 0; i < isRead.length; i++) {\n    if (isRead[i].user === value.user._id) {\n      if (isRead[i].isread[0] == true) {\n        break;\n      } else {\n        no_unread_msgs = isRead[i].isread.length;\n      }\n    }\n  }\n\n  // console.log(isRead);\n\n  const minute = new Date(value.last_msg).getMinutes();\n  const hour = new Date(value.last_msg).getHours();\n  const date = new Date(value.last_msg).getDate();\n  const month = new Date(value.last_msg).getMonth() + 1;\n  const year = new Date(value.last_msg).getFullYear();\n  const splityear = [...year.toString()];\n\n  return (\n    <div className=\"ChatListCard\">\n      <Link\n        to={{\n          pathname: \"/chat\",\n          state: {\n            userid: value.user._id,\n            fname: value.user.fname,\n            lname: value.user.lname,\n            username: value.user.username,\n          },\n        }}\n      >\n        <div className=\"profile-picture\">\n          {[...value.user.fname][0].toLowerCase()}\n        </div>\n        <div className=\"name\">\n          <div>\n            <span>{value.user.fname} </span>\n            <span>{value.user.lname} </span>\n          </div>\n        </div>\n        <div className=\"read-container\">\n          <div className=\"read\">\n            <div className={no_unread_msgs ? \"show-read isread\" : \"show-read\"}>\n              {no_unread_msgs || \"\"}\n            </div>\n          </div>\n          <div className=\"date-container\">\n            <div className=\"date\">\n              <span>{date}/</span>\n\n              <span>{month}/</span>\n\n              <span>{splityear[2]}</span>\n              <span>{splityear[3]}</span>\n            </div>\n\n            <div className=\"time\">\n              <span>{hour > 12 ? hour - 12 : hour === 0 ? 12 : hour}:</span>\n\n              <span>{minute < 10 ? \"0\" + minute : minute}</span>\n              <span>{hour > 12 ? \"pm\" : \"am\"}</span>\n            </div>\n          </div>\n        </div>\n      </Link>\n    </div>\n  );\n};\n\nexport default ChatListCard;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { OdinBookContext } from \"../Context\";\nimport ChatListCard from \"./ChatListCard\";\nimport uniqid from \"uniqid\";\nimport \"./ChatList.css\";\n\nconst ChatList = () => {\n  const {\n    axios_request,\n    jwtData,\n    myChatListValue,\n    didMyChatListMountValue,\n    isReadValue,\n    socket,\n  } = useContext(OdinBookContext);\n\n  const [isRead, setIsRead] = isReadValue;\n\n  const [myChatList, setMyChatList] = myChatListValue;\n  const [didMyChatListMount, setDidMyChatListMount] = didMyChatListMountValue;\n\n  const [chatListLoading, setChatListLoading] = useState(true);\n  const [isreadLoading, setIsreadLoading] = useState(true);\n\n  const [tempIsread, settempIsread] = useState([]);\n  const [ischange, setischange] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const get_chat_list = () => {\n    const route = `/mychat`;\n    const method = \"GET\";\n\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n    };\n\n    const cb_response = (response) => {\n      // console.log(response);\n      const a = response.data.received;\n      const b = response.data.sent;\n      // console.log(b);\n      if (b.length > 0) {\n        a.forEach((value) => {\n          // console.log(value);\n          const dupl_index = b.findIndex((x) => x.user._id === value.user._id);\n          if (dupl_index !== -1) {\n            b.splice(dupl_index, 1);\n          }\n        });\n      }\n\n      const c = [...a, ...b];\n\n      const sort_arr = c.sort((a, b) => {\n        // console.log(a.last_msg);\n        return b.last_msg < a.last_msg ? -1 : b.last_msg > a.last_msg ? 1 : 0;\n      });\n\n      setMyChatList(sort_arr);\n\n      setChatListLoading(false);\n    };\n\n    axios_request({\n      route: route,\n      data: \"\",\n      method: method,\n      axios_error: cb_error,\n      axios_response: cb_response,\n    });\n  };\n\n  const get_isread = () => {\n    const route = \"/isread\";\n    const method = \"GET\";\n\n    const cb_error = (err) => {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n    };\n    const cb_response = (response) => {\n      // console.log(response.data.users);\n      setIsRead(response.data.users);\n      setIsreadLoading(false);\n    };\n\n    axios_request({\n      route: route,\n      data: \"\",\n      method: method,\n      axios_response: cb_response,\n      axios_error: cb_error,\n    });\n  };\n\n  useEffect(() => {\n    // console.log(didMyChatListMount);\n    if (didMyChatListMount) {\n      get_chat_list();\n      get_isread();\n      setDidMyChatListMount(false);\n    } else {\n      setIsreadLoading(false);\n      setChatListLoading(false);\n    }\n  }, [ischange]);\n\n  useEffect(() => {\n    socket.on(\"new_msg\", (data) => {\n      // console.log(data);\n\n      settempIsread(data);\n    });\n  }, [socket]);\n\n  useEffect(() => {\n    if (tempIsread.length !== 0) {\n      console.log(\"tempisread=\", tempIsread);\n      console.log(\"isread=\", isRead);\n\n      const is_read_index = isRead.findIndex(\n        (x) => x.user === tempIsread.from.userid\n      );\n      console.log(\"is-read-index=\", is_read_index);\n      if (is_read_index !== -1) {\n        if (isRead[is_read_index].isread[0] === true) {\n          isRead[is_read_index].isread.splice(0, 1);\n        }\n        isRead[is_read_index].isread.push(false);\n      } else {\n        isRead.push({ user: tempIsread.from.userid, isread: [false] });\n      }\n      setIsRead(isRead);\n\n      const check = myChatList.findIndex(\n        (x) => x.user._id === tempIsread.from.userid\n      );\n      console.log(\"check=\", check);\n      console.log(myChatList);\n      if (check !== -1) {\n        myChatList[check].last_msg = new Date().toISOString();\n      } else {\n        myChatList.push({\n          last_msg: new Date().toISOString(),\n          user: {\n            fname: tempIsread.from.fname,\n            lname: tempIsread.from.lname,\n            username: tempIsread.from.username,\n            _id: tempIsread.from.userid,\n          },\n        });\n      }\n\n      const sort_arr = myChatList.sort((a, b) =>\n        b.last_msg < a.last_msg ? -1 : b.last_msg > a.last_msg ? 1 : 0\n      );\n\n      setMyChatList(sort_arr);\n      setischange(!ischange);\n    }\n  }, [tempIsread]);\n\n  console.log(myChatList);\n  // console.log(isRead);\n  return (\n    <div className=\"ChatList\">\n      {error && <div className=\"errorr\">{error}</div>}\n      {!error && (\n        <>\n          {chatListLoading && isreadLoading && (\n            <div className=\"loading-container\">\n              <div className=\"spinner-border loading\" role=\"status\">\n                <span className=\"sr-only\"></span>\n              </div>\n            </div>\n          )}\n          {!chatListLoading &&\n            !isreadLoading &&\n            (myChatList.length === 0 ? (\n              <div className=\"empty-chatlist\">\n                Please start a conversation with someone to see it here.\n              </div>\n            ) : (\n              myChatList.map((value, index) => (\n                <ChatListCard\n                  value={value}\n                  index={index}\n                  key={uniqid()}\n                  isRead={isRead}\n                />\n              ))\n            ))}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ChatList;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport {\n  Redirect,\n  Route,\n  Switch,\n  useHistory,\n  useLocation,\n  useParams,\n} from \"react-router-dom\";\nimport MyPostUpdate from \"../MyPosts/MyPostUpdate\";\nimport MyPostList from \"../MyPosts/MyPostList\";\nimport MyPostCreate from \"../MyPosts/MyPostCreate\";\n// import MyPostDetail from \"../MyPosts/MyPostDetail\";\nimport MyPostDelete from \"../MyPosts/MyPostDelete\";\nimport NewsFeed from \"../NewsFeed/NewsFeed\";\nimport PostDetail from \"../NewsFeed/PostDetail\";\nimport Navigation from \"../Navigation/Navigation\";\nimport Login from \"../Login/Login\";\nimport Logout from \"../Logout\";\nimport Signup from \"../Signup/Signup\";\nimport \"./Home.css\";\nimport SearchBar from \"../Search/SearchBar\";\nimport SearchResult from \"../Search/SearchResult\";\nimport UserDetail from \"../UserDetail/UserDetail\";\nimport Hamburger from \"../Hamburger/Hamburger\";\nimport MyFriends from \"../MyFriends/MyFriends\";\n// import { OdinBookContext } from \"../Context\";\nimport UserPost from \"../UserDetail/UserPost\";\nimport UserFriend from \"../UserDetail/UserFriend\";\nimport { OdinBookContext } from \"../Context\";\nimport Chat from \"../Chat/Chat\";\nimport ChatList from \"../ChatList/ChatList\";\nimport WelcomeMsg from \"../WelcomeMsg/WelcomeMsg\";\n\nconst Home = () => {\n  let location = useLocation();\n  let background = location.state && location.state.background;\n  const [isClick, setIsclick] = useState(false);\n\n  const { isAuthValue, jwtData } = useContext(OdinBookContext);\n  const [isAuth, setIsAuth] = isAuthValue;\n  // console.log(isAuth);\n\n  const history = useHistory();\n  // console.log(history);\n\n  // console.log(location.pathname);\n\n  console.log(location);\n  const path = location.pathname;\n\n  const ref_isClick = useRef();\n\n  if (ref_isClick.current) {\n    console.log(ref_isClick.current);\n  }\n\n  console.log(path);\n  useEffect(() => {\n    const x = window;\n    x.addEventListener(\"click\", (e) => {\n      //maybe if something goes wrong ..putting this in a try,catch block\n      try {\n        e.stopPropagation();\n        e.preventDefault();\n        let arr = e.target.classList;\n\n        for (let i = 0; i < arr.length; i++) {\n          let element = document.querySelector(`.${arr[i]}`);\n\n          // doing this 'if(element==null)' so if the form-btn is clicked cancel this function shouldn't be affected.\n          //since the form-btn will be null when it is closed, so to prevent the error\n          if (element == null) {\n            return;\n          }\n\n          let p = element.classList;\n          if (\n            p[i].toString() !== \"drop-btn\" &&\n            p[i] !== null &&\n            p[i] !== \"ham-icon\" &&\n            p[i] !== \"close-icon\"\n          ) {\n            setIsclick(false);\n          }\n          arr = [];\n        }\n\n        arr = [];\n      } catch (err) {\n        console.log(err.message);\n      }\n    });\n  }, []);\n\n  console.log(path);\n  return (\n    <div className=\"Home\">\n      {!isAuth && <div className=\"odin-book\">OdinBook</div>}\n      {!isAuth &&\n        (path === \"/signup\" ? (\n          <Redirect to=\"/signup\" />\n        ) : (\n          <Redirect to=\"/login\" />\n        ))}\n\n      {/* {isAuth && (path === \"/login\" || path === \"/signup\") && <WelcomeMsg />} */}\n\n      {/* {!isAuth && path === \"/login\"} */}\n      {isAuth && (path === \"/login\" || path === \"/signup\") && (\n        <Redirect to={{ pathname: \"/\", state: { from: path } }} />\n      )}\n\n      {isAuth && (\n        <>\n          <div className=\"Navigation\">\n            {/* <div className=\"nav-bar-title\">Odinbook</div> */}\n            {/* width 68% */}\n            <SearchBar />\n            <div className=\"left-nav\">\n              <Navigation to=\"/\" label=\"fas fa-home\" />\n              <Navigation to=\"/friends\" label=\"fas fa-user-friends\" />\n\n              {/* mychat will show the list of conversations */}\n              {/*for now keeping chat list aside */}\n              <Navigation to=\"/mychat\" label=\"fab fa-facebook-messenger\" />\n\n              {/* width 32% */}\n              <div\n                style={{\n                  color: isClick ? \"red\" : \"\",\n                }}\n                className=\"drop-btn \"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  setIsclick(!isClick);\n                }}\n                ref={ref_isClick}\n              >\n                {isClick ? (\n                  <div className=\"close-icon fas fa-times-circle\"></div>\n                ) : (\n                  <div className=\"ham-icon fa fa-caret-down\"></div>\n                )}\n              </div>\n            </div>\n          </div>\n          {isClick ? <Hamburger /> : \"\"}\n        </>\n      )}\n\n      <Switch location={background || location}>\n        {isAuth && (\n          <>\n            <Route exact path=\"/\">\n              <UserPost path=\"newsfeed\" />\n            </Route>\n            <Route exect path=\"/user/:username\">\n              <UserDetail />\n            </Route>\n            <Route path=\"/search/:name\">\n              <SearchResult />\n            </Route>\n            <Route path=\"/logout\">\n              <Logout />\n            </Route>\n            <Route exact path=\"/friends\">\n              <UserFriend path=\"myfriends\" />\n            </Route>\n            <Route path=\"/chat\">\n              <Chat />\n            </Route>\n            <Route path=\"/mychat\">\n              <ChatList />\n            </Route>\n          </>\n        )}\n\n        {!isAuth && (\n          <>\n            <Route path=\"/signup\">\n              <Signup />\n            </Route>\n            <Route path=\"/login\">\n              <Login />\n            </Route>\n          </>\n        )}\n\n        {/* <Route path=\"/user/:username/:\">\n          <UserDetail />\n        </Route> */}\n        {/* <Route path=\"/myposts\">\n          <MyPostList />\n        </Route> */}\n        {/* <Route path=\"/update-post/:mypostid\">\n          <MyPostUpdate />\n        </Route> */}\n        {/* <Route exact path=\"/mypost/:mypostid\">\n          <MyPostDetail />\n        </Route> */}\n        {/* <Route path=\"/create-post\">\n          <MyPostCreate />\n        </Route> */}\n        {/* <Route path=\"/news-feed/:postid\">\n          <PostDetail />\n        </Route> */}\n\n        {/* <Route exact path=\"/account\">\n          my-Account\n        </Route> */}\n\n        {/* &&&&&& */}\n      </Switch>\n\n      {/* <Route path=\"/delete-post/mypost:id\">\n        <MyPostDelete />\n      </Route> */}\n    </div>\n  );\n};\n\nexport default Home;\n","import \"./App.css\";\nimport Home from \"../src/Components/Home/Home\";\nimport { useContext } from \"react\";\nimport { OdinBookContext } from \"./Components/Context\";\nimport Login from \"./Components/Login/Login\";\n\nfunction App() {\n  // const { jwtData } = useContext(OdinBookContext);\n  // console.log(jwtData);\n\n  // const jwtData = JSON.parse(localStorage.getItem());\n  return (\n    <div className=\"App\">\n      <Home />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { OdinBookProvider } from \"./Components/Context\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <OdinBookProvider>\n      <Router>\n        <App />\n      </Router>\n    </OdinBookProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}